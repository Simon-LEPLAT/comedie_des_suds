{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Simon\\\\Documents\\\\comedie_des_suds\\\\frontend\\\\src\\\\pages\\\\Calendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useContext, useCallback } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { AuthContext } from '../context/AuthContext';\nimport { XMarkIcon, PlusIcon, TrashIcon, PencilIcon, ClockIcon, MapPinIcon, UserIcon, ClipboardIcon, CheckIcon, UserGroupIcon, DocumentIcon, ArrowLeftIcon, ArrowRightIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Calendar = () => {\n  _s();\n  // Références\n  const calendarRef = useRef(null);\n\n  // Contexte d'authentification\n  const {\n    user,\n    api\n  } = useContext(AuthContext);\n\n  // États pour le calendrier\n  const [events, setEvents] = useState([]);\n  const [rooms, setRooms] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n\n  // États pour les filtres\n  const [roomFilter, setRoomFilter] = useState('');\n  const [typeFilter, setTypeFilter] = useState('');\n  const [showAllEvents, setShowAllEvents] = useState(true);\n\n  // États pour les modals\n  const [showModal, setShowModal] = useState(false);\n  const [modalType, setModalType] = useState('view'); // 'view', 'add', 'edit'\n  const [currentEvent, setCurrentEvent] = useState(null);\n  const [newEvent, setNewEvent] = useState({\n    title: '',\n    start: '',\n    end: '',\n    roomId: '',\n    type: 'show',\n    showStatus: 'provisional',\n    description: '',\n    coRealizationPercentage: '',\n    color: '#800000',\n    assignedUsers: [],\n    ticketingLocation: '',\n    hasDecor: false,\n    decorDetails: ''\n  });\n\n  // États pour la sélection de temps\n  const [showSelectionDialog, setShowSelectionDialog] = useState(false);\n  const [selectedTimeInfo, setSelectedTimeInfo] = useState(null);\n\n  // États pour les messages\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  // États pour le presse-papier\n  const [clipboardEvent, setClipboardEvent] = useState(null);\n\n  // États pour les PDF\n  const [showPdfSection, setShowPdfSection] = useState(false);\n  const [eventPdfs, setEventPdfs] = useState([]);\n  const [pdfFile, setPdfFile] = useState(null);\n  const [uploadingPdf, setUploadingPdf] = useState(false);\n\n  // Types d'événements\n  const eventTypes = [{\n    value: 'show',\n    label: 'Spectacle',\n    color: '#800000',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }, {\n    value: 'rehearsal',\n    label: 'Répétition',\n    color: '#008080',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }, {\n    value: 'maintenance',\n    label: 'Maintenance',\n    color: '#FF8C00',\n    canOverlapWith: ['permanence', 'ticketing']\n  }, {\n    value: 'permanence',\n    label: 'Permanence',\n    color: '#4682B4',\n    canOverlapWith: ['show', 'rehearsal', 'maintenance', 'other', 'event', 'rental', 'calage', 'ticketing', 'régie']\n  }, {\n    value: 'event',\n    label: 'Événement',\n    color: '#9370DB',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }, {\n    value: 'rental',\n    label: 'Location',\n    color: '#2E8B57',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }, {\n    value: 'calage',\n    label: 'Calage',\n    color: '#CD5C5C',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }, {\n    value: 'ticketing',\n    label: 'Billetterie',\n    color: '#DAA520',\n    canOverlapWith: ['show', 'rehearsal', 'maintenance', 'other', 'event', 'rental', 'calage', 'permanence', 'régie']\n  }, {\n    value: 'régie',\n    label: 'Régie',\n    color: '#6B8E23',\n    canOverlapWith: ['show', 'rehearsal', 'other', 'event', 'rental', 'permanence', 'ticketing']\n  }, {\n    value: 'other',\n    label: 'Autre',\n    color: '#708090',\n    canOverlapWith: ['permanence', 'ticketing', 'régie']\n  }];\n\n  // Options de statut pour les spectacles\n  const showStatusOptions = [{\n    value: 'provisional',\n    label: 'Provisoire',\n    color: '#FFA500'\n  }, {\n    value: 'confirmed',\n    label: 'Confirmé',\n    color: '#008000'\n  }, {\n    value: 'cancelled',\n    label: 'Annulé',\n    color: '#FF0000'\n  }, {\n    value: 'ticketsOpen',\n    label: 'Billetterie ouverte',\n    color: '#0000FF'\n  }];\n\n  // Fonction pour récupérer le libellé d'un type d'événement\n  const getEventTypeLabel = type => {\n    const eventType = eventTypes.find(t => t.value === type);\n    return eventType ? eventType.label : type;\n  };\n\n  // Fonction pour formater une date pour l'input datetime-local\n  const formatDateForInput = date => {\n    const d = new Date(date);\n    return d.toISOString().slice(0, 16);\n  };\n\n  // Effet pour charger les données initiales\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        // Récupérer les salles\n        const roomsResponse = await api.get('/rooms');\n        setRooms(roomsResponse.data.data.rooms);\n\n        // Récupérer les utilisateurs\n        const usersResponse = await api.get('/users');\n        setUsers(usersResponse.data.data.users);\n        setFilteredUsers(usersResponse.data.data.users);\n\n        // Récupérer les événements\n        fetchEvents();\n      } catch (error) {\n        var _error$response, _error$response$data;\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Erreur lors du chargement des données');\n      }\n    };\n    fetchInitialData();\n  }, [api]);\n\n  // Fonction pour récupérer les événements\n  const fetchEvents = useCallback(async () => {\n    try {\n      let url = '/events';\n      const params = [];\n      if (roomFilter) {\n        params.push(`roomId=${roomFilter}`);\n      }\n      if (typeFilter) {\n        params.push(`type=${typeFilter}`);\n      }\n      if (!showAllEvents) {\n        params.push(`creatorId=${user.id}`);\n      }\n      if (params.length > 0) {\n        url += `?${params.join('&')}`;\n      }\n      const response = await api.get(url);\n\n      // Transformer les événements pour FullCalendar\n      const formattedEvents = response.data.data.events.map(event => ({\n        id: event.id,\n        title: event.title,\n        start: event.start,\n        end: event.end,\n        backgroundColor: event.color,\n        borderColor: event.color,\n        textColor: '#FFFFFF',\n        extendedProps: {\n          type: event.type,\n          description: event.description,\n          room: event.Room,\n          users: event.Users,\n          creator: event.Creator,\n          showStatus: event.showStatus,\n          coRealizationPercentage: event.coRealizationPercentage,\n          ticketingLocation: event.ticketingLocation,\n          hasDecor: event.hasDecor,\n          decorDetails: event.decorDetails\n        }\n      }));\n      setEvents(formattedEvents);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Erreur lors du chargement des événements');\n    }\n  }, [api, roomFilter, typeFilter, showAllEvents, user.id]);\n\n  // Effet pour recharger les événements lorsque les filtres changent\n  useEffect(() => {\n    fetchEvents();\n  }, [fetchEvents, roomFilter, typeFilter, showAllEvents]);\n\n  // Fonction pour vérifier la limite de spectacles\n  const checkShowLimit = async (roomId, date) => {\n    try {\n      const formattedDate = new Date(date).toISOString().split('T')[0];\n      const response = await api.get(`/events?roomId=${roomId}&type=show&date=${formattedDate}`);\n      const showCount = response.data.data.events.length;\n      return showCount >= 5;\n    } catch (error) {\n      console.error('Error checking show limit:', error);\n      return false;\n    }\n  };\n\n  // Fonction pour créer un nouvel événement\n  const handleNewEvent = info => {\n    // Définir les dates de début et de fin par défaut\n    const start = info.start || info.date || new Date();\n    const end = info.end || new Date(start.getTime() + 2 * 60 * 60 * 1000);\n\n    // Réinitialiser le formulaire\n    setNewEvent({\n      title: '',\n      start: formatDateForInput(start),\n      end: formatDateForInput(end),\n      roomId: rooms.length > 0 ? rooms[0].id.toString() : '',\n      type: 'show',\n      showStatus: 'provisional',\n      description: '',\n      coRealizationPercentage: '',\n      color: eventTypes.find(t => t.value === 'show').color,\n      assignedUsers: [],\n      ticketingLocation: '',\n      hasDecor: false,\n      decorDetails: ''\n    });\n    setModalType('add');\n    setShowModal(true);\n    setShowPdfSection(false);\n    setError('');\n    setSuccess('');\n  };\n\n  // Fonction pour gérer le clic sur un événement\n  const handleEventClick = useCallback(info => {\n    const event = info.event;\n    setCurrentEvent({\n      id: event.id,\n      title: event.title,\n      start: event.start,\n      end: event.end,\n      color: event.backgroundColor,\n      extendedProps: event.extendedProps\n    });\n    setModalType('view');\n    setShowModal(true);\n    setShowPdfSection(false);\n  }, []);\n\n  // Fonction pour gérer la sélection d'utilisateurs\n  const handleUserSelection = userId => {\n    setNewEvent(prev => {\n      const assignedUsers = [...prev.assignedUsers];\n      if (assignedUsers.includes(userId)) {\n        // Retirer l'utilisateur s'il est déjà sélectionné\n        return {\n          ...prev,\n          assignedUsers: assignedUsers.filter(id => id !== userId)\n        };\n      } else {\n        // Ajouter l'utilisateur s'il n'est pas déjà sélectionné\n        return {\n          ...prev,\n          assignedUsers: [...assignedUsers, userId]\n        };\n      }\n    });\n  };\n\n  // Fonction pour confirmer le statut d'un spectacle\n  const handleConfirmShow = useCallback(async newStatus => {\n    if (!currentEvent) return;\n    try {\n      setError('');\n      setSuccess('');\n\n      // Trouver la couleur et le libellé du statut\n      const statusOption = showStatusOptions.find(option => option.value === newStatus);\n      const statusColor = statusOption ? statusOption.color : currentEvent.color;\n      const statusLabel = statusOption ? statusOption.label : newStatus;\n\n      // Mettre à jour l'événement avec le nouveau statut\n      await api.patch(`/events/${currentEvent.id}`, {\n        showStatus: newStatus,\n        color: statusColor\n      });\n      setSuccess(`Statut du spectacle mis à jour: ${statusLabel}`);\n      setShowModal(false);\n      fetchEvents();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Erreur lors de la mise à jour du statut');\n    }\n  }, [currentEvent, api, fetchEvents]);\n\n  // Gestion du presse-papier\n  const handleCopyEvent = () => {\n    var _currentEvent$extende, _currentEvent$extende2;\n    if (!currentEvent) return;\n    setClipboardEvent({\n      title: currentEvent.title,\n      type: currentEvent.extendedProps.type,\n      roomId: (_currentEvent$extende = currentEvent.extendedProps.room) === null || _currentEvent$extende === void 0 ? void 0 : _currentEvent$extende.id,\n      description: currentEvent.extendedProps.description,\n      color: currentEvent.color,\n      showStatus: currentEvent.extendedProps.showStatus,\n      duration: new Date(currentEvent.end) - new Date(currentEvent.start),\n      assignedUsers: ((_currentEvent$extende2 = currentEvent.extendedProps.users) === null || _currentEvent$extende2 === void 0 ? void 0 : _currentEvent$extende2.map(user => user.id)) || [],\n      ticketingLocation: currentEvent.extendedProps.ticketingLocation || '',\n      hasDecor: currentEvent.extendedProps.hasDecor || false,\n      decorDetails: currentEvent.extendedProps.decorDetails || ''\n    });\n    setSuccess('Événement copié dans le presse-papier');\n    setShowModal(false);\n  };\n  const handlePasteEvent = async info => {\n    var _showStatusOptions$fi;\n    if (!clipboardEvent) {\n      setError('Aucun événement dans le presse-papier');\n      return;\n    }\n\n    // Créer la date de début à partir de la date cliquée\n    const clickedDate = new Date(info.dateStr || info.start);\n\n    // Calculer la date de fin en fonction de la durée de l'événement original\n    const endDate = new Date(clickedDate.getTime() + clipboardEvent.duration);\n\n    // Trouver le type d'événement et sa couleur\n    const eventTypeObj = eventTypes.find(type => type.value === clipboardEvent.type);\n    const eventColor = eventTypeObj ? eventTypeObj.color : eventTypes[0].color;\n\n    // Check show limit if this is a show\n    if (clipboardEvent.type === 'show') {\n      const hasReachedLimit = await checkShowLimit(clipboardEvent.roomId, clickedDate);\n      if (hasReachedLimit) {\n        setError('Impossible d\\'ajouter plus de 5 spectacles par jour dans cette salle');\n        setTimeout(() => setError(''), 5000);\n        return;\n      }\n    }\n\n    // Préparer les données de l'événement\n    const eventData = {\n      title: clipboardEvent.title,\n      start: clickedDate.toISOString(),\n      end: endDate.toISOString(),\n      roomId: clipboardEvent.roomId,\n      type: clipboardEvent.type,\n      description: clipboardEvent.description,\n      color: clipboardEvent.type === 'show' ? ((_showStatusOptions$fi = showStatusOptions.find(s => s.value === clipboardEvent.showStatus)) === null || _showStatusOptions$fi === void 0 ? void 0 : _showStatusOptions$fi.color) || eventColor : eventColor,\n      showStatus: clipboardEvent.type === 'show' ? clipboardEvent.showStatus : undefined,\n      creatorId: user.id,\n      assignedUsers: clipboardEvent.assignedUsers,\n      ticketingLocation: clipboardEvent.ticketingLocation || '',\n      hasDecor: clipboardEvent.hasDecor || false,\n      decorDetails: clipboardEvent.decorDetails || ''\n    };\n    try {\n      await api.post('/events', eventData);\n      setSuccess('Événement collé avec succès');\n      fetchEvents();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Erreur lors de la création de l\\'événement');\n      setTimeout(() => setError(''), 5000);\n    }\n  };\n\n  // Gestion des interactions avec le calendrier\n  const handleDateClick = info => {\n    setSelectedTimeInfo(info);\n    setShowSelectionDialog(true);\n  };\n  const handleSelect = selectInfo => {\n    setSelectedTimeInfo(selectInfo);\n    setShowSelectionDialog(true);\n  };\n\n  // Fonction pour gérer les changements dans le formulaire\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    // Si le type d'événement change, mettre à jour la couleur\n    if (name === 'type') {\n      const eventType = eventTypes.find(type => type.value === value);\n      setNewEvent(prev => ({\n        ...prev,\n        [name]: value,\n        color: eventType ? eventType.color : prev.color,\n        // Réinitialiser le statut du spectacle si le type n'est pas 'show'\n        showStatus: value === 'show' ? prev.showStatus : undefined\n      }));\n    } else {\n      setNewEvent(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  // Fonction pour éditer un événement existant\n  const handleEdit = () => {\n    var _currentEvent$extende3, _currentEvent$extende4;\n    if (!currentEvent) return;\n    setNewEvent({\n      id: currentEvent.id,\n      title: currentEvent.title,\n      start: formatDateForInput(currentEvent.start),\n      end: formatDateForInput(currentEvent.end),\n      roomId: ((_currentEvent$extende3 = currentEvent.extendedProps.room) === null || _currentEvent$extende3 === void 0 ? void 0 : _currentEvent$extende3.id) || (rooms.length > 0 ? rooms[0].id.toString() : ''),\n      type: currentEvent.extendedProps.type || 'show',\n      showStatus: currentEvent.extendedProps.showStatus || 'provisional',\n      description: currentEvent.extendedProps.description || '',\n      coRealizationPercentage: currentEvent.extendedProps.coRealizationPercentage || '',\n      color: currentEvent.color,\n      assignedUsers: ((_currentEvent$extende4 = currentEvent.extendedProps.users) === null || _currentEvent$extende4 === void 0 ? void 0 : _currentEvent$extende4.map(user => user.id)) || [],\n      ticketingLocation: currentEvent.extendedProps.ticketingLocation || '',\n      hasDecor: currentEvent.extendedProps.hasDecor || false,\n      decorDetails: currentEvent.extendedProps.decorDetails || ''\n    });\n    setModalType('edit');\n    setShowModal(true);\n    setShowPdfSection(false);\n  };\n  const handleDelete = async () => {\n    if (!currentEvent) return;\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer cet événement ?')) {\n      return;\n    }\n    try {\n      await api.delete(`/events/${currentEvent.id}`);\n      setSuccess('Événement supprimé avec succès');\n      setShowModal(false);\n      fetchEvents();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      setError(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'Erreur lors de la suppression de l\\'événement');\n    }\n  };\n\n  // Fonction pour vérifier si des événements peuvent se chevaucher\n  const canEventsOverlap = (movingEventType, stillEventType) => {\n    // Trouver la configuration du type d'événement en mouvement\n    const movingEventConfig = eventTypes.find(type => type.value === movingEventType);\n\n    // Si on ne trouve pas la configuration, ne pas autoriser le chevauchement\n    if (!movingEventConfig) return false;\n\n    // Vérifier si le type d'événement immobile est dans la liste des types avec lesquels\n    // l'événement en mouvement peut se chevaucher\n    return movingEventConfig.canOverlapWith.includes(stillEventType);\n  };\n\n  // Fonction de soumission du formulaire\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setError('');\n      setSuccess('');\n\n      // Check show limit if this is a show and we're adding a new event\n      if (newEvent.type === 'show' && modalType === 'add') {\n        const hasReachedLimit = await checkShowLimit(newEvent.roomId, new Date(newEvent.start));\n        if (hasReachedLimit) {\n          setError('Impossible d\\'ajouter plus de 5 spectacles par jour dans cette salle');\n          return;\n        }\n      }\n\n      // Vérifier les chevauchements d'événements\n      if (newEvent.roomId) {\n        // Récupérer tous les événements pour la même salle\n        const response = await api.get(`/events?roomId=${newEvent.roomId}`);\n        const roomEvents = response.data.data.events;\n\n        // Convertir les dates du nouvel événement\n        const newStart = new Date(newEvent.start);\n        const newEnd = new Date(newEvent.end);\n\n        // Vérifier les chevauchements\n        const overlappingEvents = roomEvents.filter(event => {\n          // Ignorer l'événement actuel lors de l'édition\n          if (modalType === 'edit' && event.id.toString() === newEvent.id.toString()) {\n            return false;\n          }\n          const eventStart = new Date(event.start);\n          const eventEnd = new Date(event.end);\n\n          // Vérifier si les événements se chevauchent dans le temps\n          const isOverlapping = newStart < eventEnd && newStart >= eventStart || newEnd > eventStart && newEnd <= eventEnd || newStart <= eventStart && newEnd >= eventEnd;\n\n          // Si chevauchement, vérifier si les types d'événements peuvent se chevaucher\n          if (isOverlapping) {\n            // Vérifier si les types peuvent se chevaucher\n            return !canEventsOverlap(newEvent.type, event.type);\n          }\n          return false;\n        });\n        if (overlappingEvents.length > 0) {\n          // Trouver les noms des types d'événements qui ne peuvent pas se chevaucher\n          const conflictingTypes = [...new Set(overlappingEvents.map(event => getEventTypeLabel(event.type)))];\n          setError(`Cet événement ne peut pas chevaucher les types suivants : ${conflictingTypes.join(', ')}`);\n          return;\n        }\n      }\n\n      // Préparer les données de l'événement\n      const eventData = {\n        title: newEvent.title,\n        start: new Date(newEvent.start).toISOString(),\n        end: new Date(newEvent.end).toISOString(),\n        roomId: newEvent.roomId,\n        type: newEvent.type,\n        description: newEvent.description,\n        creatorId: user.id,\n        coRealizationPercentage: newEvent.coRealizationPercentage,\n        assignedUsers: newEvent.assignedUsers,\n        ticketingLocation: newEvent.ticketingLocation || '',\n        hasDecor: newEvent.hasDecor || false,\n        decorDetails: newEvent.decorDetails || ''\n      };\n\n      // Ajouter le statut du spectacle si c'est un spectacle\n      if (newEvent.type === 'show') {\n        const statusOption = showStatusOptions.find(option => option.value === newEvent.showStatus);\n        eventData.showStatus = newEvent.showStatus;\n        eventData.color = statusOption ? statusOption.color : eventTypes.find(t => t.value === 'show').color;\n      } else {\n        // Utiliser la couleur du type d'événement\n        const typeOption = eventTypes.find(t => t.value === newEvent.type);\n        eventData.color = typeOption ? typeOption.color : '#800000';\n      }\n\n      // Créer ou mettre à jour l'événement\n      if (modalType === 'add') {\n        await api.post('/events', eventData);\n        setSuccess('Événement créé avec succès');\n      } else {\n        await api.patch(`/events/${newEvent.id}`, eventData);\n        setSuccess('Événement mis à jour avec succès');\n      }\n      setShowModal(false);\n      fetchEvents();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      setError(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'Erreur lors de la création/modification de l\\'événement');\n      setTimeout(() => setError(''), 5000);\n    }\n  };\n\n  // Fonctions pour la gestion des PDF\n  const fetchEventPdfs = async eventId => {\n    try {\n      const response = await api.get(`/events/${eventId}/pdfs`);\n      setEventPdfs(response.data.data.pdfs);\n    } catch (error) {\n      var _error$response7, _error$response7$data;\n      setError(((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || 'Erreur lors de la récupération des PDF');\n    }\n  };\n  const handlePdfUpload = async () => {\n    if (!pdfFile) {\n      setError('Veuillez sélectionner un fichier PDF');\n      return;\n    }\n    const eventId = (currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.id) || newEvent.id;\n    if (!eventId) return;\n    try {\n      setUploadingPdf(true);\n      setError('');\n      const formData = new FormData();\n      formData.append('pdf', pdfFile);\n      await api.post(`/events/${eventId}/pdfs`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Rafraîchir la liste des PDF\n      await fetchEventPdfs(eventId);\n      setPdfFile(null);\n      setSuccess('PDF ajouté avec succès');\n\n      // Réinitialiser l'input file\n      const fileInput = document.getElementById('pdf-upload');\n      if (fileInput) fileInput.value = '';\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      setError(((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.message) || 'Erreur lors de l\\'upload du PDF');\n    } finally {\n      setUploadingPdf(false);\n    }\n  };\n  const handleDeletePdf = async pdfId => {\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer ce PDF ?')) {\n      return;\n    }\n    const eventId = (currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.id) || newEvent.id;\n    if (!eventId) return;\n    try {\n      await api.delete(`/events/${eventId}/pdfs/${pdfId}`);\n\n      // Rafraîchir la liste des PDF\n      await fetchEventPdfs(eventId);\n      setSuccess('PDF supprimé avec succès');\n    } catch (error) {\n      var _error$response9, _error$response9$data;\n      setError(((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.message) || 'Erreur lors de la suppression du PDF');\n    }\n  };\n  const handlePdfFileChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type !== 'application/pdf') {\n      setError('Seuls les fichiers PDF sont autorisés');\n      e.target.value = '';\n      return;\n    }\n    if (file && file.size > 10 * 1024 * 1024) {\n      setError('La taille du fichier ne doit pas dépasser 10 Mo');\n      e.target.value = '';\n      return;\n    }\n    setPdfFile(file);\n    setError('');\n  };\n  const togglePdfSection = async () => {\n    const newState = !showPdfSection;\n    setShowPdfSection(newState);\n    if (newState && (currentEvent !== null && currentEvent !== void 0 && currentEvent.id || newEvent.id)) {\n      await fetchEventPdfs((currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.id) || newEvent.id);\n    }\n  };\n\n  // Composants de rendu\n  const renderUserSelectionSection = () => {\n    if (modalType === 'view') return null;\n\n    // Define event types that don't allow user assignment\n    const disabledEventTypes = ['event', 'calage', 'rental'];\n\n    // If current event type doesn't allow user assignment, show message\n    if (disabledEventTypes.includes(newEvent.type)) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 p-4 bg-gray-50 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 italic flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n            className: \"h-5 w-5 mr-2 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 13\n          }, this), \"L'assignation d'utilisateurs n'est pas disponible pour ce type d'\\xE9v\\xE9nement\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this);\n    }\n\n    // Filter out administrators from the available users\n    const availableUsers = filteredUsers.filter(user => user.role !== 'administrateur');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-primary mb-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n          className: \"h-5 w-5 mr-2 text-primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 11\n        }, this), \"Utilisateurs assign\\xE9s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 9\n      }, this), availableUsers.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2 border rounded-md\",\n        children: availableUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-center p-2 rounded-md cursor-pointer transition-colors ${newEvent.assignedUsers.includes(user.id) ? 'bg-primary/10 border border-primary/30' : 'hover:bg-gray-100'}`,\n          onClick: () => handleUserSelection(user.id),\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: newEvent.assignedUsers.includes(user.id),\n            onChange: () => {} // Handled by the div onClick\n            ,\n            className: \"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: [user.firstName, \" \", user.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: user.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 717,\n            columnNumber: 17\n          }, this)]\n        }, user.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 italic p-2 border rounded-md\",\n        children: \"Aucun utilisateur disponible pour ce type d'\\xE9v\\xE9nement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this);\n  };\n  const renderPdfSection = () => {\n    if (!showPdfSection) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdf-section mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-primary flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this), \"Documents PDF (\", eventPdfs.length, \"/10)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: togglePdfSection,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this), eventPdfs.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 max-h-60 overflow-y-auto border rounded-md p-2\",\n        children: eventPdfs.map(pdf => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-2 border-b last:border-b-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: `http://localhost:5000${pdf.url}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-primary hover:underline flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 767,\n              columnNumber: 19\n            }, this), pdf.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleDeletePdf(pdf.id),\n            className: \"text-red-500 hover:text-red-700\",\n            children: /*#__PURE__*/_jsxDEV(TrashIcon, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 17\n          }, this)]\n        }, pdf.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 758,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-4 bg-gray-50 rounded-md text-gray-500 text-center\",\n        children: \"Aucun document PDF attach\\xE9 \\xE0 cet \\xE9v\\xE9nement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 11\n      }, this), eventPdfs.length < 10 && (modalType === 'edit' || modalType === 'add') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"pdf-upload\",\n            accept: \"application/pdf\",\n            onChange: handlePdfFileChange,\n            className: \"block w-full text-sm text-gray-500\\r file:mr-4 file:py-2 file:px-4\\r file:rounded-md file:border-0\\r file:text-sm file:font-semibold\\r file:bg-primary file:text-white\\r hover:file:bg-primary-700\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handlePdfUpload,\n            disabled: !pdfFile || uploadingPdf,\n            className: `px-4 py-2 rounded-md text-white ${!pdfFile || uploadingPdf ? 'bg-gray-400' : 'bg-primary hover:bg-primary-700'}`,\n            children: uploadingPdf ? 'Envoi...' : 'Ajouter'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 789,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500 mt-1\",\n          children: \"Formats accept\\xE9s: PDF uniquement, taille max: 10 Mo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 788,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Rendu du contenu du modal en fonction du type\n  const renderModalContent = () => {\n    // Si on est dans la section PDF, afficher uniquement cette section\n    if (showPdfSection) {\n      return renderPdfSection();\n    }\n\n    // Afficher le contenu en fonction du type de modal\n    if (modalType === 'view') {\n      var _currentEvent$extende5, _currentEvent$extende6, _currentEvent$extende7, _currentEvent$extende8, _showStatusOptions$fi2, _currentEvent$extende10, _currentEvent$extende11, _currentEvent$extende12, _currentEvent$extende13, _currentEvent$extende14, _currentEvent$extende15, _currentEvent$extende16, _currentEvent$extende17, _currentEvent$extende18, _currentEvent$extende19, _currentEvent$extende20, _currentEvent$extende21, _currentEvent$extende22, _currentEvent$extende23, _currentEvent$extende24, _currentEvent$extende25, _currentEvent$extende26, _currentEvent$extende27, _currentEvent$extende28;\n      // Affichage des détails de l'événement\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold mb-2\",\n              children: currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [new Date(currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.start).toLocaleString('fr-FR', {\n                  weekday: 'long',\n                  day: 'numeric',\n                  month: 'long',\n                  hour: '2-digit',\n                  minute: '2-digit'\n                }), ' - ', new Date(currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.end).toLocaleString('fr-FR', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(MapPinIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende5 = currentEvent.extendedProps) === null || _currentEvent$extende5 === void 0 ? void 0 : (_currentEvent$extende6 = _currentEvent$extende5.room) === null || _currentEvent$extende6 === void 0 ? void 0 : _currentEvent$extende6.name) || 'Aucune salle'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"h-4 w-4 rounded-full mr-2\",\n                style: {\n                  backgroundColor: currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: getEventTypeLabel(currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende7 = currentEvent.extendedProps) === null || _currentEvent$extende7 === void 0 ? void 0 : _currentEvent$extende7.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende8 = currentEvent.extendedProps) === null || _currentEvent$extende8 === void 0 ? void 0 : _currentEvent$extende8.type) === 'show' && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: [\"(\", ((_showStatusOptions$fi2 = showStatusOptions.find(s => {\n                  var _currentEvent$extende9;\n                  return s.value === (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende9 = currentEvent.extendedProps) === null || _currentEvent$extende9 === void 0 ? void 0 : _currentEvent$extende9.showStatus);\n                })) === null || _showStatusOptions$fi2 === void 0 ? void 0 : _showStatusOptions$fi2.label) || 'Statut inconnu', \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 15\n            }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende10 = currentEvent.extendedProps) === null || _currentEvent$extende10 === void 0 ? void 0 : _currentEvent$extende10.type) === 'show' && (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende11 = currentEvent.extendedProps) === null || _currentEvent$extende11 === void 0 ? void 0 : _currentEvent$extende11.coRealizationPercentage) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"Co-r\\xE9alisation:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende12 = currentEvent.extendedProps) === null || _currentEvent$extende12 === void 0 ? void 0 : _currentEvent$extende12.coRealizationPercentage, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 17\n            }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende13 = currentEvent.extendedProps) === null || _currentEvent$extende13 === void 0 ? void 0 : _currentEvent$extende13.ticketingLocation) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"Lieu de billetterie:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende14 = currentEvent.extendedProps) === null || _currentEvent$extende14 === void 0 ? void 0 : _currentEvent$extende14.ticketingLocation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 885,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 883,\n              columnNumber: 17\n            }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende15 = currentEvent.extendedProps) === null || _currentEvent$extende15 === void 0 ? void 0 : _currentEvent$extende15.hasDecor) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"D\\xE9cor:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Oui\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 892,\n                columnNumber: 19\n              }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende16 = currentEvent.extendedProps) === null || _currentEvent$extende16 === void 0 ? void 0 : _currentEvent$extende16.decorDetails) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2\",\n                children: [\"(\", currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende17 = currentEvent.extendedProps) === null || _currentEvent$extende17 === void 0 ? void 0 : _currentEvent$extende17.decorDetails, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [(currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende18 = currentEvent.extendedProps) === null || _currentEvent$extende18 === void 0 ? void 0 : _currentEvent$extende18.description) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-semibold text-gray-700 mb-1\",\n                children: \"Description:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 903,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 whitespace-pre-wrap\",\n                children: currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende19 = currentEvent.extendedProps) === null || _currentEvent$extende19 === void 0 ? void 0 : _currentEvent$extende19.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 904,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende20 = currentEvent.extendedProps) === null || _currentEvent$extende20 === void 0 ? void 0 : _currentEvent$extende20.creator) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Cr\\xE9\\xE9 par: \", currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende21 = currentEvent.extendedProps) === null || _currentEvent$extende21 === void 0 ? void 0 : (_currentEvent$extende22 = _currentEvent$extende21.creator) === null || _currentEvent$extende22 === void 0 ? void 0 : _currentEvent$extende22.firstName, \" \", currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende23 = currentEvent.extendedProps) === null || _currentEvent$extende23 === void 0 ? void 0 : (_currentEvent$extende24 = _currentEvent$extende23.creator) === null || _currentEvent$extende24 === void 0 ? void 0 : _currentEvent$extende24.lastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende25 = currentEvent.extendedProps) === null || _currentEvent$extende25 === void 0 ? void 0 : _currentEvent$extende25.users) && (currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende26 = currentEvent.extendedProps) === null || _currentEvent$extende26 === void 0 ? void 0 : _currentEvent$extende26.users.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-sm font-semibold text-gray-700 mb-2 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n                  className: \"h-5 w-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 920,\n                  columnNumber: 21\n                }, this), \"Utilisateurs assign\\xE9s:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 919,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 gap-1\",\n                children: currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende27 = currentEvent.extendedProps) === null || _currentEvent$extende27 === void 0 ? void 0 : _currentEvent$extende27.users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-2 w-2 rounded-full bg-primary mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 926,\n                    columnNumber: 25\n                  }, this), user.firstName, \" \", user.lastName, \" (\", user.role, \")\"]\n                }, user.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 925,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 923,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 918,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mt-6\",\n          children: [(currentEvent === null || currentEvent === void 0 ? void 0 : (_currentEvent$extende28 = currentEvent.extendedProps) === null || _currentEvent$extende28 === void 0 ? void 0 : _currentEvent$extende28.type) === 'show' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 w-full mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleConfirmShow('provisional'),\n              className: \"px-3 py-1.5 bg-yellow-500 text-white rounded-md text-sm flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 944,\n                columnNumber: 19\n              }, this), \"Provisoire\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleConfirmShow('confirmed'),\n              className: \"px-3 py-1.5 bg-green-600 text-white rounded-md text-sm flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 19\n              }, this), \"Confirm\\xE9\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleConfirmShow('ticketsOpen'),\n              className: \"px-3 py-1.5 bg-blue-600 text-white rounded-md text-sm flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 958,\n                columnNumber: 19\n              }, this), \"Billetterie ouverte\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleConfirmShow('cancelled'),\n              className: \"px-3 py-1.5 bg-red-600 text-white rounded-md text-sm flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 19\n              }, this), \"Annul\\xE9\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 939,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEdit,\n            className: \"px-3 py-1.5 bg-primary text-white rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(PencilIcon, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 15\n            }, this), \"Modifier\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleDelete,\n            className: \"px-3 py-1.5 bg-red-600 text-white rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(TrashIcon, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 15\n            }, this), \"Supprimer\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCopyEvent,\n            className: \"px-3 py-1.5 bg-gray-600 text-white rounded-md text-sm flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ClipboardIcon, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 15\n            }, this), \"Copier\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 11\n        }, this), (currentEvent === null || currentEvent === void 0 ? void 0 : currentEvent.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: togglePdfSection,\n          className: \"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1002,\n            columnNumber: 15\n          }, this), \"G\\xE9rer les documents PDF\", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n            className: \"h-5 w-5 ml-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1004,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 997,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 9\n      }, this);\n    } else {\n      // Formulaire d'ajout ou de modification\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Titre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1015,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"title\",\n              value: newEvent.title,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"D\\xE9but *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1029,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              name: \"start\",\n              value: newEvent.start,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Fin *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              name: \"end\",\n              value: newEvent.end,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1046,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1042,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Salle *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"roomId\",\n              value: newEvent.roomId,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner une salle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 17\n              }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: room.id,\n                children: [room.name, \" (Capacit\\xE9: \", room.capacity, \")\"]\n              }, room.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1069,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1060,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1056,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Type d'\\xE9v\\xE9nement *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"type\",\n              value: newEvent.type,\n              onChange: handleInputChange,\n              required: true,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n              children: eventTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: type.value,\n                children: type.label\n              }, type.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1088,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 13\n          }, this), newEvent.type === 'show' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-primary mb-1\",\n                children: \"Statut du spectacle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1098,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"showStatus\",\n                value: newEvent.showStatus,\n                onChange: handleInputChange,\n                className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n                children: showStatusOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.value,\n                  children: option.label\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1108,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1101,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1097,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-primary mb-1\",\n                children: \"Pourcentage de co-r\\xE9alisation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1116,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"coRealizationPercentage\",\n                value: newEvent.coRealizationPercentage,\n                onChange: handleInputChange,\n                min: \"0\",\n                max: \"100\",\n                className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n                placeholder: \"Ex: 50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1119,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1115,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: newEvent.description,\n              onChange: handleInputChange,\n              rows: \"3\",\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"Lieu de billetterie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"ticketingLocation\",\n              value: newEvent.ticketingLocation,\n              onChange: handleInputChange,\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"hasDecor\",\n              name: \"hasDecor\",\n              checked: newEvent.hasDecor,\n              onChange: e => setNewEvent({\n                ...newEvent,\n                hasDecor: e.target.checked\n              }),\n              className: \"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"hasDecor\",\n              className: \"ml-2 block text-sm text-gray-700\",\n              children: \"D\\xE9cor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 13\n          }, this), newEvent.hasDecor && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-primary mb-1\",\n              children: \"D\\xE9tails du d\\xE9cor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"decorDetails\",\n              value: newEvent.decorDetails,\n              onChange: handleInputChange,\n              rows: \"2\",\n              className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 11\n        }, this), renderUserSelectionSection(), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-2 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setShowModal(false);\n              setError('');\n            },\n            className: \"px-4 py-2 bg-gray-200 text-gray-700 rounded-md\",\n            children: \"Annuler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-4 py-2 bg-primary text-white rounded-md\",\n            children: modalType === 'add' ? 'Créer' : 'Mettre à jour'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1193,\n          columnNumber: 11\n        }, this), modalType === 'edit' && newEvent.id && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: togglePdfSection,\n          className: \"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(DocumentIcon, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1219,\n            columnNumber: 15\n          }, this), \"G\\xE9rer les documents PDF\", /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n            className: \"h-5 w-5 ml-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1221,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1214,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  // Rendu principal\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 md:p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-primary mb-4\",\n        children: \"Calendrier des \\xE9v\\xE9nements\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Salle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: roomFilter,\n            onChange: e => setRoomFilter(e.target.value),\n            className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Toutes les salles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 15\n            }, this), rooms.map(room => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: room.id,\n              children: room.name\n            }, room.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1248,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Type d'\\xE9v\\xE9nement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: typeFilter,\n            onChange: e => setTypeFilter(e.target.value),\n            className: \"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Tous les types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 15\n            }, this), eventTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: type.value,\n              children: type.label\n            }, type.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1266,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1255,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: showAllEvents,\n              onChange: e => setShowAllEvents(e.target.checked),\n              className: \"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 text-sm text-gray-700\",\n              children: \"Afficher tous les \\xE9v\\xE9nements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1281,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setRoomFilter('');\n              setTypeFilter('');\n              setShowAllEvents(true);\n            },\n            className: \"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm\",\n            children: \"R\\xE9initialiser les filtres\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1288,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-red-100 text-red-700 rounded-md\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1303,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-green-100 text-green-700 rounded-md\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-medium text-gray-700 mb-2\",\n          children: \"L\\xE9gende:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: eventTypes.map(type => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-4 w-4 rounded-full mr-1\",\n              style: {\n                backgroundColor: type.color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-700\",\n              children: type.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1324,\n              columnNumber: 17\n            }, this)]\n          }, type.value, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1319,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1317,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-4\",\n      children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n        ref: calendarRef,\n        plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n        initialView: \"timeGridWeek\",\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n        events: events,\n        eventClick: handleEventClick,\n        dateClick: handleDateClick,\n        selectable: true,\n        select: handleSelect,\n        selectMirror: true,\n        dayMaxEvents: true,\n        weekends: true,\n        allDaySlot: false,\n        slotMinTime: \"08:00:00\",\n        slotMaxTime: \"23:00:00\",\n        height: \"auto\",\n        locale: \"fr\",\n        buttonText: {\n          today: \"Aujourd'hui\",\n          month: 'Mois',\n          week: 'Semaine',\n          day: 'Jour'\n        },\n        firstDay: 1 // Lundi comme premier jour de la semaine\n        ,\n        nowIndicator: true,\n        eventTimeFormat: {\n          hour: '2-digit',\n          minute: '2-digit',\n          meridiem: false,\n          hour12: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1332,\n      columnNumber: 7\n    }, this), showSelectionDialog && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl w-full max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-primary mb-4\",\n            children: \"Que souhaitez-vous faire ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowSelectionDialog(false);\n                handleNewEvent(selectedTimeInfo);\n              },\n              className: \"flex items-center justify-center p-3 bg-primary text-white rounded-md hover:bg-primary-700\",\n              children: [/*#__PURE__*/_jsxDEV(PlusIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1389,\n                columnNumber: 19\n              }, this), \"Cr\\xE9er un nouvel \\xE9v\\xE9nement\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 17\n            }, this), clipboardEvent && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setShowSelectionDialog(false);\n                handlePasteEvent(selectedTimeInfo);\n              },\n              className: \"flex items-center justify-center p-3 bg-gray-600 text-white rounded-md hover:bg-gray-700\",\n              children: [/*#__PURE__*/_jsxDEV(ClipboardIcon, {\n                className: \"h-5 w-5 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1401,\n                columnNumber: 21\n              }, this), \"Coller l'\\xE9v\\xE9nement du presse-papier\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1394,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSelectionDialog(false),\n              className: \"p-3 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300\",\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1406,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1375,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1374,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-primary\",\n              children: modalType === 'add' ? 'Ajouter un événement' : modalType === 'edit' ? 'Modifier l\\'événement' : showPdfSection ? 'Documents PDF' : 'Détails de l\\'événement'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (showPdfSection) {\n                  setShowPdfSection(false);\n                } else {\n                  setShowModal(false);\n                  setError('');\n                  setSuccess('');\n                }\n              },\n              className: \"text-gray-500 hover:text-gray-700\",\n              children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                className: \"h-6 w-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1429,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1423,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-3 bg-red-100 text-red-700 rounded-md\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1446,\n            columnNumber: 17\n          }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 p-3 bg-green-100 text-green-700 rounded-md\",\n            children: success\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1452,\n            columnNumber: 17\n          }, this), renderModalContent()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1422,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1421,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1420,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1231,\n    columnNumber: 5\n  }, this);\n};\n_s(Calendar, \"lnTeO7dCeSRxJ3YYTisKQA2FKZ4=\");\n_c = Calendar;\nexport default Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","useCallback","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","AuthContext","XMarkIcon","PlusIcon","TrashIcon","PencilIcon","ClockIcon","MapPinIcon","UserIcon","ClipboardIcon","CheckIcon","UserGroupIcon","DocumentIcon","ArrowLeftIcon","ArrowRightIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","Calendar","_s","calendarRef","user","api","events","setEvents","rooms","setRooms","users","setUsers","filteredUsers","setFilteredUsers","roomFilter","setRoomFilter","typeFilter","setTypeFilter","showAllEvents","setShowAllEvents","showModal","setShowModal","modalType","setModalType","currentEvent","setCurrentEvent","newEvent","setNewEvent","title","start","end","roomId","type","showStatus","description","coRealizationPercentage","color","assignedUsers","ticketingLocation","hasDecor","decorDetails","showSelectionDialog","setShowSelectionDialog","selectedTimeInfo","setSelectedTimeInfo","error","setError","success","setSuccess","clipboardEvent","setClipboardEvent","showPdfSection","setShowPdfSection","eventPdfs","setEventPdfs","pdfFile","setPdfFile","uploadingPdf","setUploadingPdf","eventTypes","value","label","canOverlapWith","showStatusOptions","getEventTypeLabel","eventType","find","t","formatDateForInput","date","d","Date","toISOString","slice","fetchInitialData","roomsResponse","get","data","usersResponse","fetchEvents","_error$response","_error$response$data","response","message","url","params","push","id","length","join","formattedEvents","map","event","backgroundColor","borderColor","textColor","extendedProps","room","Room","Users","creator","Creator","_error$response2","_error$response2$data","checkShowLimit","formattedDate","split","showCount","console","handleNewEvent","info","getTime","toString","handleEventClick","handleUserSelection","userId","prev","includes","filter","handleConfirmShow","newStatus","statusOption","option","statusColor","statusLabel","patch","_error$response3","_error$response3$data","handleCopyEvent","_currentEvent$extende","_currentEvent$extende2","duration","handlePasteEvent","_showStatusOptions$fi","clickedDate","dateStr","endDate","eventTypeObj","eventColor","hasReachedLimit","setTimeout","eventData","s","undefined","creatorId","post","_error$response4","_error$response4$data","handleDateClick","handleSelect","selectInfo","handleInputChange","e","name","target","handleEdit","_currentEvent$extende3","_currentEvent$extende4","handleDelete","window","confirm","delete","_error$response5","_error$response5$data","canEventsOverlap","movingEventType","stillEventType","movingEventConfig","handleSubmit","preventDefault","roomEvents","newStart","newEnd","overlappingEvents","eventStart","eventEnd","isOverlapping","conflictingTypes","Set","typeOption","_error$response6","_error$response6$data","fetchEventPdfs","eventId","pdfs","_error$response7","_error$response7$data","handlePdfUpload","formData","FormData","append","headers","fileInput","document","getElementById","_error$response8","_error$response8$data","handleDeletePdf","pdfId","_error$response9","_error$response9$data","handlePdfFileChange","file","files","size","togglePdfSection","newState","renderUserSelectionSection","disabledEventTypes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","availableUsers","role","onClick","checked","onChange","firstName","lastName","renderPdfSection","pdf","href","rel","accept","disabled","renderModalContent","_currentEvent$extende5","_currentEvent$extende6","_currentEvent$extende7","_currentEvent$extende8","_showStatusOptions$fi2","_currentEvent$extende10","_currentEvent$extende11","_currentEvent$extende12","_currentEvent$extende13","_currentEvent$extende14","_currentEvent$extende15","_currentEvent$extende16","_currentEvent$extende17","_currentEvent$extende18","_currentEvent$extende19","_currentEvent$extende20","_currentEvent$extende21","_currentEvent$extende22","_currentEvent$extende23","_currentEvent$extende24","_currentEvent$extende25","_currentEvent$extende26","_currentEvent$extende27","_currentEvent$extende28","toLocaleString","weekday","day","month","hour","minute","style","_currentEvent$extende9","onSubmit","required","capacity","min","max","placeholder","rows","htmlFor","ref","plugins","initialView","headerToolbar","left","center","right","eventClick","dateClick","selectable","select","selectMirror","dayMaxEvents","weekends","allDaySlot","slotMinTime","slotMaxTime","height","locale","buttonText","today","week","firstDay","nowIndicator","eventTimeFormat","meridiem","hour12","_c","$RefreshReg$"],"sources":["C:/Users/Simon/Documents/comedie_des_suds/frontend/src/pages/Calendar.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext, useCallback } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { \r\n  XMarkIcon, \r\n  PlusIcon, \r\n  TrashIcon, \r\n  PencilIcon, \r\n  ClockIcon, \r\n  MapPinIcon, \r\n  UserIcon, \r\n  ClipboardIcon,\r\n  CheckIcon,\r\n  UserGroupIcon,\r\n  DocumentIcon,\r\n  ArrowLeftIcon,\r\n  ArrowRightIcon\r\n} from '@heroicons/react/24/outline';\r\n\r\nconst Calendar = () => {\r\n  // Références\r\n  const calendarRef = useRef(null);\r\n  \r\n  // Contexte d'authentification\r\n  const { user, api } = useContext(AuthContext);\r\n  \r\n  // États pour le calendrier\r\n  const [events, setEvents] = useState([]);\r\n  const [rooms, setRooms] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  \r\n  // États pour les filtres\r\n  const [roomFilter, setRoomFilter] = useState('');\r\n  const [typeFilter, setTypeFilter] = useState('');\r\n  const [showAllEvents, setShowAllEvents] = useState(true);\r\n  \r\n  // États pour les modals\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalType, setModalType] = useState('view'); // 'view', 'add', 'edit'\r\n  const [currentEvent, setCurrentEvent] = useState(null);\r\n  const [newEvent, setNewEvent] = useState({\r\n    title: '',\r\n    start: '',\r\n    end: '',\r\n    roomId: '',\r\n    type: 'show',\r\n    showStatus: 'provisional',\r\n    description: '',\r\n    coRealizationPercentage: '',\r\n    color: '#800000',\r\n    assignedUsers: [],\r\n    ticketingLocation: '',\r\n    hasDecor: false,\r\n    decorDetails: ''\r\n  });\r\n  \r\n  // États pour la sélection de temps\r\n  const [showSelectionDialog, setShowSelectionDialog] = useState(false);\r\n  const [selectedTimeInfo, setSelectedTimeInfo] = useState(null);\r\n  \r\n  // États pour les messages\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  \r\n  // États pour le presse-papier\r\n  const [clipboardEvent, setClipboardEvent] = useState(null);\r\n  \r\n  // États pour les PDF\r\n  const [showPdfSection, setShowPdfSection] = useState(false);\r\n  const [eventPdfs, setEventPdfs] = useState([]);\r\n  const [pdfFile, setPdfFile] = useState(null);\r\n  const [uploadingPdf, setUploadingPdf] = useState(false);\r\n  \r\n  // Types d'événements\r\n  const eventTypes = [\r\n    { value: 'show', label: 'Spectacle', color: '#800000', canOverlapWith: ['permanence', 'ticketing', 'régie'] },\r\n    { value: 'rehearsal', label: 'Répétition', color: '#008080', canOverlapWith: ['permanence', 'ticketing', 'régie'] },\r\n    { value: 'maintenance', label: 'Maintenance', color: '#FF8C00', canOverlapWith: ['permanence', 'ticketing'] },\r\n    { value: 'permanence', label: 'Permanence', color: '#4682B4', canOverlapWith: ['show', 'rehearsal', 'maintenance', 'other', 'event', 'rental', 'calage', 'ticketing', 'régie'] },\r\n    { value: 'event', label: 'Événement', color: '#9370DB', canOverlapWith: ['permanence', 'ticketing', 'régie'] },\r\n    { value: 'rental', label: 'Location', color: '#2E8B57', canOverlapWith: ['permanence', 'ticketing', 'régie'] },\r\n    { value: 'calage', label: 'Calage', color: '#CD5C5C', canOverlapWith: ['permanence', 'ticketing', 'régie'] },\r\n    { value: 'ticketing', label: 'Billetterie', color: '#DAA520', canOverlapWith: ['show', 'rehearsal', 'maintenance', 'other', 'event', 'rental', 'calage', 'permanence', 'régie'] },\r\n    { value: 'régie', label: 'Régie', color: '#6B8E23', canOverlapWith: ['show', 'rehearsal', 'other', 'event', 'rental', 'permanence', 'ticketing'] },\r\n    { value: 'other', label: 'Autre', color: '#708090', canOverlapWith: ['permanence', 'ticketing', 'régie'] }\r\n  ];\r\n  \r\n  // Options de statut pour les spectacles\r\n  const showStatusOptions = [\r\n    { value: 'provisional', label: 'Provisoire', color: '#FFA500' },\r\n    { value: 'confirmed', label: 'Confirmé', color: '#008000' },\r\n    { value: 'cancelled', label: 'Annulé', color: '#FF0000' },\r\n    { value: 'ticketsOpen', label: 'Billetterie ouverte', color: '#0000FF' }\r\n  ];\r\n\r\n  // Fonction pour récupérer le libellé d'un type d'événement\r\n  const getEventTypeLabel = (type) => {\r\n    const eventType = eventTypes.find(t => t.value === type);\r\n    return eventType ? eventType.label : type;\r\n  };\r\n  \r\n  // Fonction pour formater une date pour l'input datetime-local\r\n  const formatDateForInput = (date) => {\r\n    const d = new Date(date);\r\n    return d.toISOString().slice(0, 16);\r\n  };\r\n\r\n  // Effet pour charger les données initiales\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      try {\r\n        // Récupérer les salles\r\n        const roomsResponse = await api.get('/rooms');\r\n        setRooms(roomsResponse.data.data.rooms);\r\n        \r\n        // Récupérer les utilisateurs\r\n        const usersResponse = await api.get('/users');\r\n        setUsers(usersResponse.data.data.users);\r\n        setFilteredUsers(usersResponse.data.data.users);\r\n        \r\n        // Récupérer les événements\r\n        fetchEvents();\r\n      } catch (error) {\r\n        setError(error.response?.data?.message || 'Erreur lors du chargement des données');\r\n      }\r\n    };\r\n    \r\n    fetchInitialData();\r\n  }, [api]);\r\n\r\n  // Fonction pour récupérer les événements\r\n  const fetchEvents = useCallback(async () => {\r\n    try {\r\n      let url = '/events';\r\n      const params = [];\r\n      \r\n      if (roomFilter) {\r\n        params.push(`roomId=${roomFilter}`);\r\n      }\r\n      \r\n      if (typeFilter) {\r\n        params.push(`type=${typeFilter}`);\r\n      }\r\n      \r\n      if (!showAllEvents) {\r\n        params.push(`creatorId=${user.id}`);\r\n      }\r\n      \r\n      if (params.length > 0) {\r\n        url += `?${params.join('&')}`;\r\n      }\r\n      \r\n      const response = await api.get(url);\r\n      \r\n      // Transformer les événements pour FullCalendar\r\n      const formattedEvents = response.data.data.events.map(event => ({\r\n        id: event.id,\r\n        title: event.title,\r\n        start: event.start,\r\n        end: event.end,\r\n        backgroundColor: event.color,\r\n        borderColor: event.color,\r\n        textColor: '#FFFFFF',\r\n        extendedProps: {\r\n          type: event.type,\r\n          description: event.description,\r\n          room: event.Room,\r\n          users: event.Users,\r\n          creator: event.Creator,\r\n          showStatus: event.showStatus,\r\n          coRealizationPercentage: event.coRealizationPercentage,\r\n          ticketingLocation: event.ticketingLocation,\r\n          hasDecor: event.hasDecor,\r\n          decorDetails: event.decorDetails\r\n        }\r\n      }));\r\n      \r\n      setEvents(formattedEvents);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors du chargement des événements');\r\n    }\r\n  }, [api, roomFilter, typeFilter, showAllEvents, user.id]);\r\n\r\n  // Effet pour recharger les événements lorsque les filtres changent\r\n  useEffect(() => {\r\n    fetchEvents();\r\n  }, [fetchEvents, roomFilter, typeFilter, showAllEvents]);\r\n\r\n  // Fonction pour vérifier la limite de spectacles\r\n  const checkShowLimit = async (roomId, date) => {\r\n    try {\r\n      const formattedDate = new Date(date).toISOString().split('T')[0];\r\n      const response = await api.get(`/events?roomId=${roomId}&type=show&date=${formattedDate}`);\r\n      const showCount = response.data.data.events.length;\r\n      return showCount >= 5;\r\n    } catch (error) {\r\n      console.error('Error checking show limit:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Fonction pour créer un nouvel événement\r\n  const handleNewEvent = (info) => {\r\n    // Définir les dates de début et de fin par défaut\r\n    const start = info.start || info.date || new Date();\r\n    const end = info.end || new Date(start.getTime() + 2 * 60 * 60 * 1000);\r\n    \r\n    // Réinitialiser le formulaire\r\n    setNewEvent({\r\n      title: '',\r\n      start: formatDateForInput(start),\r\n      end: formatDateForInput(end),\r\n      roomId: rooms.length > 0 ? rooms[0].id.toString() : '',\r\n      type: 'show',\r\n      showStatus: 'provisional',\r\n      description: '',\r\n      coRealizationPercentage: '',\r\n      color: eventTypes.find(t => t.value === 'show').color,\r\n      assignedUsers: [],\r\n      ticketingLocation: '',\r\n      hasDecor: false,\r\n      decorDetails: ''\r\n    });\r\n    \r\n    setModalType('add');\r\n    setShowModal(true);\r\n    setShowPdfSection(false);\r\n    setError('');\r\n    setSuccess('');\r\n  };\r\n\r\n  // Fonction pour gérer le clic sur un événement\r\n  const handleEventClick = useCallback((info) => {\r\n    const event = info.event;\r\n    setCurrentEvent({\r\n      id: event.id,\r\n      title: event.title,\r\n      start: event.start,\r\n      end: event.end,\r\n      color: event.backgroundColor,\r\n      extendedProps: event.extendedProps\r\n    });\r\n    setModalType('view');\r\n    setShowModal(true);\r\n    setShowPdfSection(false);\r\n  }, []);\r\n\r\n  // Fonction pour gérer la sélection d'utilisateurs\r\n  const handleUserSelection = (userId) => {\r\n    setNewEvent(prev => {\r\n      const assignedUsers = [...prev.assignedUsers];\r\n      \r\n      if (assignedUsers.includes(userId)) {\r\n        // Retirer l'utilisateur s'il est déjà sélectionné\r\n        return {\r\n          ...prev,\r\n          assignedUsers: assignedUsers.filter(id => id !== userId)\r\n        };\r\n      } else {\r\n        // Ajouter l'utilisateur s'il n'est pas déjà sélectionné\r\n        return {\r\n          ...prev,\r\n          assignedUsers: [...assignedUsers, userId]\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  // Fonction pour confirmer le statut d'un spectacle\r\n  const handleConfirmShow = useCallback(async (newStatus) => {\r\n    if (!currentEvent) return;\r\n    \r\n    try {\r\n      setError('');\r\n      setSuccess('');\r\n      \r\n      // Trouver la couleur et le libellé du statut\r\n      const statusOption = showStatusOptions.find(option => option.value === newStatus);\r\n      const statusColor = statusOption ? statusOption.color : currentEvent.color;\r\n      const statusLabel = statusOption ? statusOption.label : newStatus;\r\n      \r\n      // Mettre à jour l'événement avec le nouveau statut\r\n      await api.patch(`/events/${currentEvent.id}`, {\r\n        showStatus: newStatus,\r\n        color: statusColor\r\n      });\r\n      \r\n      setSuccess(`Statut du spectacle mis à jour: ${statusLabel}`);\r\n      setShowModal(false);\r\n      fetchEvents();\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la mise à jour du statut');\r\n    }\r\n  }, [currentEvent, api, fetchEvents]);\r\n\r\n  // Gestion du presse-papier\r\n  const handleCopyEvent = () => {\r\n    if (!currentEvent) return;\r\n    \r\n    setClipboardEvent({\r\n      title: currentEvent.title,\r\n      type: currentEvent.extendedProps.type,\r\n      roomId: currentEvent.extendedProps.room?.id,\r\n      description: currentEvent.extendedProps.description,\r\n      color: currentEvent.color,\r\n      showStatus: currentEvent.extendedProps.showStatus,\r\n      duration: new Date(currentEvent.end) - new Date(currentEvent.start),\r\n      assignedUsers: currentEvent.extendedProps.users?.map(user => user.id) || [],\r\n      ticketingLocation: currentEvent.extendedProps.ticketingLocation || '',\r\n      hasDecor: currentEvent.extendedProps.hasDecor || false,\r\n      decorDetails: currentEvent.extendedProps.decorDetails || ''\r\n    });\r\n    \r\n    setSuccess('Événement copié dans le presse-papier');\r\n    setShowModal(false);\r\n  };\r\n  \r\n  const handlePasteEvent = async (info) => {\r\n    if (!clipboardEvent) {\r\n      setError('Aucun événement dans le presse-papier');\r\n      return;\r\n    }\r\n    \r\n    // Créer la date de début à partir de la date cliquée\r\n    const clickedDate = new Date(info.dateStr || info.start);\r\n    \r\n    // Calculer la date de fin en fonction de la durée de l'événement original\r\n    const endDate = new Date(clickedDate.getTime() + clipboardEvent.duration);\r\n    \r\n    // Trouver le type d'événement et sa couleur\r\n    const eventTypeObj = eventTypes.find(type => type.value === clipboardEvent.type);\r\n    const eventColor = eventTypeObj ? eventTypeObj.color : eventTypes[0].color;\r\n    \r\n    // Check show limit if this is a show\r\n    if (clipboardEvent.type === 'show') {\r\n      const hasReachedLimit = await checkShowLimit(clipboardEvent.roomId, clickedDate);\r\n      if (hasReachedLimit) {\r\n        setError('Impossible d\\'ajouter plus de 5 spectacles par jour dans cette salle');\r\n        setTimeout(() => setError(''), 5000);\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Préparer les données de l'événement\r\n    const eventData = {\r\n      title: clipboardEvent.title,\r\n      start: clickedDate.toISOString(),\r\n      end: endDate.toISOString(),\r\n      roomId: clipboardEvent.roomId,\r\n      type: clipboardEvent.type,\r\n      description: clipboardEvent.description,\r\n      color: clipboardEvent.type === 'show' ? \r\n        showStatusOptions.find(s => s.value === clipboardEvent.showStatus)?.color || eventColor : \r\n        eventColor,\r\n      showStatus: clipboardEvent.type === 'show' ? clipboardEvent.showStatus : undefined,\r\n      creatorId: user.id,\r\n      assignedUsers: clipboardEvent.assignedUsers,\r\n      ticketingLocation: clipboardEvent.ticketingLocation || '',\r\n      hasDecor: clipboardEvent.hasDecor || false,\r\n      decorDetails: clipboardEvent.decorDetails || ''\r\n    };\r\n    \r\n    try {\r\n      await api.post('/events', eventData);\r\n      setSuccess('Événement collé avec succès');\r\n      fetchEvents();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la création de l\\'événement');\r\n      setTimeout(() => setError(''), 5000);\r\n    }\r\n  };\r\n\r\n  // Gestion des interactions avec le calendrier\r\n  const handleDateClick = (info) => {\r\n    setSelectedTimeInfo(info);\r\n    setShowSelectionDialog(true);\r\n  };\r\n  \r\n  const handleSelect = (selectInfo) => {\r\n    setSelectedTimeInfo(selectInfo);\r\n    setShowSelectionDialog(true);\r\n  };\r\n  \r\n  // Fonction pour gérer les changements dans le formulaire\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    // Si le type d'événement change, mettre à jour la couleur\r\n    if (name === 'type') {\r\n      const eventType = eventTypes.find(type => type.value === value);\r\n      setNewEvent(prev => ({\r\n        ...prev,\r\n        [name]: value,\r\n        color: eventType ? eventType.color : prev.color,\r\n        // Réinitialiser le statut du spectacle si le type n'est pas 'show'\r\n        showStatus: value === 'show' ? prev.showStatus : undefined\r\n      }));\r\n    } else {\r\n      setNewEvent(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // Fonction pour éditer un événement existant\r\n  const handleEdit = () => {\r\n    if (!currentEvent) return;\r\n    \r\n    setNewEvent({\r\n      id: currentEvent.id,\r\n      title: currentEvent.title,\r\n      start: formatDateForInput(currentEvent.start),\r\n      end: formatDateForInput(currentEvent.end),\r\n      roomId: currentEvent.extendedProps.room?.id || (rooms.length > 0 ? rooms[0].id.toString() : ''),\r\n      type: currentEvent.extendedProps.type || 'show',\r\n      showStatus: currentEvent.extendedProps.showStatus || 'provisional',\r\n      description: currentEvent.extendedProps.description || '',\r\n      coRealizationPercentage: currentEvent.extendedProps.coRealizationPercentage || '',\r\n      color: currentEvent.color,\r\n      assignedUsers: currentEvent.extendedProps.users?.map(user => user.id) || [],\r\n      ticketingLocation: currentEvent.extendedProps.ticketingLocation || '',\r\n      hasDecor: currentEvent.extendedProps.hasDecor || false,\r\n      decorDetails: currentEvent.extendedProps.decorDetails || ''\r\n    });\r\n    \r\n    setModalType('edit');\r\n    setShowModal(true);\r\n    setShowPdfSection(false);\r\n  };\r\n  \r\n  const handleDelete = async () => {\r\n    if (!currentEvent) return;\r\n    \r\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer cet événement ?')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      await api.delete(`/events/${currentEvent.id}`);\r\n      setSuccess('Événement supprimé avec succès');\r\n      setShowModal(false);\r\n      fetchEvents();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la suppression de l\\'événement');\r\n    }\r\n  };\r\n  \r\n  // Fonction pour vérifier si des événements peuvent se chevaucher\r\n  const canEventsOverlap = (movingEventType, stillEventType) => {\r\n    // Trouver la configuration du type d'événement en mouvement\r\n    const movingEventConfig = eventTypes.find(type => type.value === movingEventType);\r\n    \r\n    // Si on ne trouve pas la configuration, ne pas autoriser le chevauchement\r\n    if (!movingEventConfig) return false;\r\n    \r\n    // Vérifier si le type d'événement immobile est dans la liste des types avec lesquels\r\n    // l'événement en mouvement peut se chevaucher\r\n    return movingEventConfig.canOverlapWith.includes(stillEventType);\r\n  };\r\n  \r\n  // Fonction de soumission du formulaire\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      setError('');\r\n      setSuccess('');\r\n      \r\n      // Check show limit if this is a show and we're adding a new event\r\n      if (newEvent.type === 'show' && modalType === 'add') {\r\n        const hasReachedLimit = await checkShowLimit(newEvent.roomId, new Date(newEvent.start));\r\n        if (hasReachedLimit) {\r\n          setError('Impossible d\\'ajouter plus de 5 spectacles par jour dans cette salle');\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // Vérifier les chevauchements d'événements\r\n      if (newEvent.roomId) {\r\n        // Récupérer tous les événements pour la même salle\r\n        const response = await api.get(`/events?roomId=${newEvent.roomId}`);\r\n        const roomEvents = response.data.data.events;\r\n        \r\n        // Convertir les dates du nouvel événement\r\n        const newStart = new Date(newEvent.start);\r\n        const newEnd = new Date(newEvent.end);\r\n        \r\n        // Vérifier les chevauchements\r\n        const overlappingEvents = roomEvents.filter(event => {\r\n          // Ignorer l'événement actuel lors de l'édition\r\n          if (modalType === 'edit' && event.id.toString() === newEvent.id.toString()) {\r\n            return false;\r\n          }\r\n          \r\n          const eventStart = new Date(event.start);\r\n          const eventEnd = new Date(event.end);\r\n          \r\n          // Vérifier si les événements se chevauchent dans le temps\r\n          const isOverlapping = (\r\n            (newStart < eventEnd && newStart >= eventStart) ||\r\n            (newEnd > eventStart && newEnd <= eventEnd) ||\r\n            (newStart <= eventStart && newEnd >= eventEnd)\r\n          );\r\n          \r\n          // Si chevauchement, vérifier si les types d'événements peuvent se chevaucher\r\n          if (isOverlapping) {\r\n            // Vérifier si les types peuvent se chevaucher\r\n            return !canEventsOverlap(newEvent.type, event.type);\r\n          }\r\n          \r\n          return false;\r\n        });\r\n        \r\n        if (overlappingEvents.length > 0) {\r\n          // Trouver les noms des types d'événements qui ne peuvent pas se chevaucher\r\n          const conflictingTypes = [...new Set(overlappingEvents.map(event => \r\n            getEventTypeLabel(event.type)\r\n          ))];\r\n          \r\n          setError(`Cet événement ne peut pas chevaucher les types suivants : ${conflictingTypes.join(', ')}`);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      // Préparer les données de l'événement\r\n      const eventData = {\r\n        title: newEvent.title,\r\n        start: new Date(newEvent.start).toISOString(),\r\n        end: new Date(newEvent.end).toISOString(),\r\n        roomId: newEvent.roomId,\r\n        type: newEvent.type,\r\n        description: newEvent.description,\r\n        creatorId: user.id,\r\n        coRealizationPercentage: newEvent.coRealizationPercentage,\r\n        assignedUsers: newEvent.assignedUsers,\r\n        ticketingLocation: newEvent.ticketingLocation || '',\r\n        hasDecor: newEvent.hasDecor || false,\r\n        decorDetails: newEvent.decorDetails || ''\r\n      };\r\n      \r\n      // Ajouter le statut du spectacle si c'est un spectacle\r\n      if (newEvent.type === 'show') {\r\n        const statusOption = showStatusOptions.find(option => option.value === newEvent.showStatus);\r\n        eventData.showStatus = newEvent.showStatus;\r\n        eventData.color = statusOption ? statusOption.color : eventTypes.find(t => t.value === 'show').color;\r\n      } else {\r\n        // Utiliser la couleur du type d'événement\r\n        const typeOption = eventTypes.find(t => t.value === newEvent.type);\r\n        eventData.color = typeOption ? typeOption.color : '#800000';\r\n      }\r\n      \r\n      // Créer ou mettre à jour l'événement\r\n      if (modalType === 'add') {\r\n        await api.post('/events', eventData);\r\n        setSuccess('Événement créé avec succès');\r\n      } else {\r\n        await api.patch(`/events/${newEvent.id}`, eventData);\r\n        setSuccess('Événement mis à jour avec succès');\r\n      }\r\n      \r\n      setShowModal(false);\r\n      fetchEvents();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la création/modification de l\\'événement');\r\n      setTimeout(() => setError(''), 5000);\r\n    }\r\n  };\r\n\r\n  // Fonctions pour la gestion des PDF\r\n  const fetchEventPdfs = async (eventId) => {\r\n    try {\r\n      const response = await api.get(`/events/${eventId}/pdfs`);\r\n      setEventPdfs(response.data.data.pdfs);\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la récupération des PDF');\r\n    }\r\n  };\r\n  \r\n  const handlePdfUpload = async () => {\r\n    if (!pdfFile) {\r\n      setError('Veuillez sélectionner un fichier PDF');\r\n      return;\r\n    }\r\n    \r\n    const eventId = currentEvent?.id || newEvent.id;\r\n    if (!eventId) return;\r\n    \r\n    try {\r\n      setUploadingPdf(true);\r\n      setError('');\r\n      \r\n      const formData = new FormData();\r\n      formData.append('pdf', pdfFile);\r\n      \r\n      await api.post(`/events/${eventId}/pdfs`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      // Rafraîchir la liste des PDF\r\n      await fetchEventPdfs(eventId);\r\n      setPdfFile(null);\r\n      setSuccess('PDF ajouté avec succès');\r\n      \r\n      // Réinitialiser l'input file\r\n      const fileInput = document.getElementById('pdf-upload');\r\n      if (fileInput) fileInput.value = '';\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de l\\'upload du PDF');\r\n    } finally {\r\n      setUploadingPdf(false);\r\n    }\r\n  };\r\n  \r\n  const handleDeletePdf = async (pdfId) => {\r\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer ce PDF ?')) {\r\n      return;\r\n    }\r\n    \r\n    const eventId = currentEvent?.id || newEvent.id;\r\n    if (!eventId) return;\r\n    \r\n    try {\r\n      await api.delete(`/events/${eventId}/pdfs/${pdfId}`);\r\n      \r\n      // Rafraîchir la liste des PDF\r\n      await fetchEventPdfs(eventId);\r\n      setSuccess('PDF supprimé avec succès');\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Erreur lors de la suppression du PDF');\r\n    }\r\n  };\r\n  \r\n  const handlePdfFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type !== 'application/pdf') {\r\n      setError('Seuls les fichiers PDF sont autorisés');\r\n      e.target.value = '';\r\n      return;\r\n    }\r\n    \r\n    if (file && file.size > 10 * 1024 * 1024) {\r\n      setError('La taille du fichier ne doit pas dépasser 10 Mo');\r\n      e.target.value = '';\r\n      return;\r\n    }\r\n    \r\n    setPdfFile(file);\r\n    setError('');\r\n  };\r\n  \r\n  const togglePdfSection = async () => {\r\n    const newState = !showPdfSection;\r\n    setShowPdfSection(newState);\r\n    \r\n    if (newState && (currentEvent?.id || newEvent.id)) {\r\n      await fetchEventPdfs(currentEvent?.id || newEvent.id);\r\n    }\r\n  };\r\n\r\n  // Composants de rendu\r\n  const renderUserSelectionSection = () => {\r\n    if (modalType === 'view') return null;\r\n\r\n    // Define event types that don't allow user assignment\r\n    const disabledEventTypes = ['event', 'calage', 'rental'];\r\n    \r\n    // If current event type doesn't allow user assignment, show message\r\n    if (disabledEventTypes.includes(newEvent.type)) {\r\n      return (\r\n        <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\r\n          <p className=\"text-sm text-gray-500 italic flex items-center\">\r\n            <UserGroupIcon className=\"h-5 w-5 mr-2 text-gray-400\" />\r\n            L'assignation d'utilisateurs n'est pas disponible pour ce type d'événement\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    // Filter out administrators from the available users\r\n    const availableUsers = filteredUsers.filter(user => user.role !== 'administrateur');\r\n    \r\n    return (\r\n      <div className=\"mt-4\">\r\n        <label className=\"block text-sm font-medium text-primary mb-2 flex items-center\">\r\n          <UserGroupIcon className=\"h-5 w-5 mr-2 text-primary\" />\r\n          Utilisateurs assignés\r\n        </label>\r\n        \r\n        {availableUsers.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto p-2 border rounded-md\">\r\n            {availableUsers.map(user => (\r\n              <div \r\n                key={user.id}\r\n                className={`flex items-center p-2 rounded-md cursor-pointer transition-colors ${\r\n                  newEvent.assignedUsers.includes(user.id) \r\n                    ? 'bg-primary/10 border border-primary/30' \r\n                    : 'hover:bg-gray-100'\r\n                }`}\r\n                onClick={() => handleUserSelection(user.id)}\r\n              >\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={newEvent.assignedUsers.includes(user.id)}\r\n                  onChange={() => {}} // Handled by the div onClick\r\n                  className=\"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\r\n                />\r\n                <div className=\"ml-3\">\r\n                  <p className=\"text-sm font-medium text-gray-700\">\r\n                    {user.firstName} {user.lastName}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {user.role}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-sm text-gray-500 italic p-2 border rounded-md\">\r\n            Aucun utilisateur disponible pour ce type d'événement\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderPdfSection = () => {\r\n    if (!showPdfSection) return null;\r\n    \r\n    return (\r\n      <div className=\"pdf-section mt-4\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold text-primary flex items-center\">\r\n            <DocumentIcon className=\"h-5 w-5 mr-2\" />\r\n            Documents PDF ({eventPdfs.length}/10)\r\n          </h3>\r\n          <button\r\n            type=\"button\"\r\n            onClick={togglePdfSection}\r\n            className=\"text-gray-500 hover:text-gray-700\"\r\n          >\r\n            <ArrowLeftIcon className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Liste des PDF existants */}\r\n        {eventPdfs.length > 0 ? (\r\n          <div className=\"mb-4 max-h-60 overflow-y-auto border rounded-md p-2\">\r\n            {eventPdfs.map(pdf => (\r\n              <div key={pdf.id} className=\"flex items-center justify-between p-2 border-b last:border-b-0\">\r\n                <a \r\n                  href={`http://localhost:5000${pdf.url}`} \r\n                  target=\"_blank\" \r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"text-primary hover:underline flex items-center\"\r\n                >\r\n                  <DocumentIcon className=\"h-5 w-5 mr-2\" />\r\n                  {pdf.name}\r\n                </a>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => handleDeletePdf(pdf.id)}\r\n                  className=\"text-red-500 hover:text-red-700\"\r\n                >\r\n                  <TrashIcon className=\"h-5 w-5\" />\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"mb-4 p-4 bg-gray-50 rounded-md text-gray-500 text-center\">\r\n            Aucun document PDF attaché à cet événement\r\n          </div>\r\n        )}\r\n        \r\n        {/* Formulaire d'upload */}\r\n        {eventPdfs.length < 10 && (modalType === 'edit' || modalType === 'add') && (\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"file\"\r\n                id=\"pdf-upload\"\r\n                accept=\"application/pdf\"\r\n                onChange={handlePdfFileChange}\r\n                className=\"block w-full text-sm text-gray-500\r\n                  file:mr-4 file:py-2 file:px-4\r\n                  file:rounded-md file:border-0\r\n                  file:text-sm file:font-semibold\r\n                  file:bg-primary file:text-white\r\n                  hover:file:bg-primary-700\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={handlePdfUpload}\r\n                disabled={!pdfFile || uploadingPdf}\r\n                className={`px-4 py-2 rounded-md text-white ${\r\n                  !pdfFile || uploadingPdf ? 'bg-gray-400' : 'bg-primary hover:bg-primary-700'\r\n                }`}\r\n              >\r\n                {uploadingPdf ? 'Envoi...' : 'Ajouter'}\r\n              </button>\r\n            </div>\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              Formats acceptés: PDF uniquement, taille max: 10 Mo\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Rendu du contenu du modal en fonction du type\r\n  const renderModalContent = () => {\r\n    // Si on est dans la section PDF, afficher uniquement cette section\r\n    if (showPdfSection) {\r\n      return renderPdfSection();\r\n    }\r\n    \r\n    // Afficher le contenu en fonction du type de modal\r\n    if (modalType === 'view') {\r\n      // Affichage des détails de l'événement\r\n      return (\r\n        <div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold mb-2\">{currentEvent?.title}</h3>\r\n              \r\n              <div className=\"flex items-center text-gray-600 mb-2\">\r\n                <ClockIcon className=\"h-5 w-5 mr-2\" />\r\n                <span>\r\n                  {new Date(currentEvent?.start).toLocaleString('fr-FR', {\r\n                    weekday: 'long',\r\n                    day: 'numeric',\r\n                    month: 'long',\r\n                    hour: '2-digit',\r\n                    minute: '2-digit'\r\n                  })}\r\n                  {' - '}\r\n                  {new Date(currentEvent?.end).toLocaleString('fr-FR', {\r\n                    hour: '2-digit',\r\n                    minute: '2-digit'\r\n                  })}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center text-gray-600 mb-2\">\r\n                <MapPinIcon className=\"h-5 w-5 mr-2\" />\r\n                <span>{currentEvent?.extendedProps?.room?.name || 'Aucune salle'}</span>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center text-gray-600 mb-2\">\r\n                <div \r\n                  className=\"h-4 w-4 rounded-full mr-2\" \r\n                  style={{ backgroundColor: currentEvent?.color }}\r\n                ></div>\r\n                <span>{getEventTypeLabel(currentEvent?.extendedProps?.type)}</span>\r\n                \r\n                {currentEvent?.extendedProps?.type === 'show' && (\r\n                  <span className=\"ml-2\">\r\n                    ({showStatusOptions.find(s => s.value === currentEvent?.extendedProps?.showStatus)?.label || 'Statut inconnu'})\r\n                  </span>\r\n                )}\r\n              </div>\r\n              \r\n              {currentEvent?.extendedProps?.type === 'show' && currentEvent?.extendedProps?.coRealizationPercentage && (\r\n                <div className=\"flex items-center text-gray-600 mb-2\">\r\n                  <span className=\"mr-2\">Co-réalisation:</span>\r\n                  <span>{currentEvent?.extendedProps?.coRealizationPercentage}%</span>\r\n                </div>\r\n              )}\r\n              \r\n              {currentEvent?.extendedProps?.ticketingLocation && (\r\n                <div className=\"flex items-center text-gray-600 mb-2\">\r\n                  <span className=\"mr-2\">Lieu de billetterie:</span>\r\n                  <span>{currentEvent?.extendedProps?.ticketingLocation}</span>\r\n                </div>\r\n              )}\r\n              \r\n              {currentEvent?.extendedProps?.hasDecor && (\r\n                <div className=\"flex items-center text-gray-600 mb-2\">\r\n                  <span className=\"mr-2\">Décor:</span>\r\n                  <span>Oui</span>\r\n                  {currentEvent?.extendedProps?.decorDetails && (\r\n                    <span className=\"ml-2\">({currentEvent?.extendedProps?.decorDetails})</span>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n            \r\n            <div>\r\n              {currentEvent?.extendedProps?.description && (\r\n                <div className=\"mb-4\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-700 mb-1\">Description:</h4>\r\n                  <p className=\"text-gray-600 whitespace-pre-wrap\">{currentEvent?.extendedProps?.description}</p>\r\n                </div>\r\n              )}\r\n              \r\n              {currentEvent?.extendedProps?.creator && (\r\n                <div className=\"flex items-center text-gray-600 mb-2\">\r\n                  <UserIcon className=\"h-5 w-5 mr-2\" />\r\n                  <span>\r\n                    Créé par: {currentEvent?.extendedProps?.creator?.firstName} {currentEvent?.extendedProps?.creator?.lastName}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              \r\n              {currentEvent?.extendedProps?.users && currentEvent?.extendedProps?.users.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                  <h4 className=\"text-sm font-semibold text-gray-700 mb-2 flex items-center\">\r\n                    <UserGroupIcon className=\"h-5 w-5 mr-2\" />\r\n                    Utilisateurs assignés:\r\n                  </h4>\r\n                  <div className=\"grid grid-cols-1 gap-1\">\r\n                    {currentEvent?.extendedProps?.users.map(user => (\r\n                      <div key={user.id} className=\"text-sm text-gray-600 flex items-center\">\r\n                        <div className=\"h-2 w-2 rounded-full bg-primary mr-2\"></div>\r\n                        {user.firstName} {user.lastName} ({user.role})\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex flex-wrap gap-2 mt-6\">\r\n            {/* Boutons d'action pour les spectacles */}\r\n            {currentEvent?.extendedProps?.type === 'show' && (\r\n              <div className=\"flex flex-wrap gap-2 w-full mb-2\">\r\n                <button\r\n                  onClick={() => handleConfirmShow('provisional')}\r\n                  className=\"px-3 py-1.5 bg-yellow-500 text-white rounded-md text-sm flex items-center\"\r\n                >\r\n                  <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                  Provisoire\r\n                </button>\r\n                <button\r\n                  onClick={() => handleConfirmShow('confirmed')}\r\n                  className=\"px-3 py-1.5 bg-green-600 text-white rounded-md text-sm flex items-center\"\r\n                >\r\n                  <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                  Confirmé\r\n                </button>\r\n                <button\r\n                  onClick={() => handleConfirmShow('ticketsOpen')}\r\n                  className=\"px-3 py-1.5 bg-blue-600 text-white rounded-md text-sm flex items-center\"\r\n                >\r\n                  <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                  Billetterie ouverte\r\n                </button>\r\n                <button\r\n                  onClick={() => handleConfirmShow('cancelled')}\r\n                  className=\"px-3 py-1.5 bg-red-600 text-white rounded-md text-sm flex items-center\"\r\n                >\r\n                  <CheckIcon className=\"h-4 w-4 mr-1\" />\r\n                  Annulé\r\n                </button>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Boutons d'action généraux */}\r\n            <button\r\n              onClick={handleEdit}\r\n              className=\"px-3 py-1.5 bg-primary text-white rounded-md text-sm flex items-center\"\r\n            >\r\n              <PencilIcon className=\"h-4 w-4 mr-1\" />\r\n              Modifier\r\n            </button>\r\n            <button\r\n              onClick={handleDelete}\r\n              className=\"px-3 py-1.5 bg-red-600 text-white rounded-md text-sm flex items-center\"\r\n            >\r\n              <TrashIcon className=\"h-4 w-4 mr-1\" />\r\n              Supprimer\r\n            </button>\r\n            <button\r\n              onClick={handleCopyEvent}\r\n              className=\"px-3 py-1.5 bg-gray-600 text-white rounded-md text-sm flex items-center\"\r\n            >\r\n              <ClipboardIcon className=\"h-4 w-4 mr-1\" />\r\n              Copier\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Bouton pour accéder à la section PDF */}\r\n          {currentEvent?.id && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={togglePdfSection}\r\n              className=\"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md mt-4\"\r\n            >\r\n              <DocumentIcon className=\"h-5 w-5 mr-2\" />\r\n              Gérer les documents PDF\r\n              <ArrowRightIcon className=\"h-5 w-5 ml-2\" />\r\n            </button>\r\n          )}\r\n        </div>\r\n      );\r\n    } else {\r\n      // Formulaire d'ajout ou de modification\r\n      return (\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"col-span-1 md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Titre *\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                value={newEvent.title}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Début *\r\n              </label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"start\"\r\n                value={newEvent.start}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Fin *\r\n              </label>\r\n              <input\r\n                type=\"datetime-local\"\r\n                name=\"end\"\r\n                value={newEvent.end}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Salle *\r\n              </label>\r\n              <select\r\n                name=\"roomId\"\r\n                value={newEvent.roomId}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              >\r\n                <option value=\"\">Sélectionner une salle</option>\r\n                {rooms.map(room => (\r\n                  <option key={room.id} value={room.id}>\r\n                    {room.name} (Capacité: {room.capacity})\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Type d'événement *\r\n              </label>\r\n              <select\r\n                name=\"type\"\r\n                value={newEvent.type}\r\n                onChange={handleInputChange}\r\n                required\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              >\r\n                {eventTypes.map(type => (\r\n                  <option key={type.value} value={type.value}>\r\n                    {type.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            {newEvent.type === 'show' && (\r\n              <>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                    Statut du spectacle\r\n                  </label>\r\n                  <select\r\n                    name=\"showStatus\"\r\n                    value={newEvent.showStatus}\r\n                    onChange={handleInputChange}\r\n                    className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n                  >\r\n                    {showStatusOptions.map(option => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                    Pourcentage de co-réalisation\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"coRealizationPercentage\"\r\n                    value={newEvent.coRealizationPercentage}\r\n                    onChange={handleInputChange}\r\n                    min=\"0\"\r\n                    max=\"100\"\r\n                    className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n                    placeholder=\"Ex: 50\"\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n            \r\n            <div className=\"col-span-1 md:col-span-2\">\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={newEvent.description}\r\n                onChange={handleInputChange}\r\n                rows=\"3\"\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              ></textarea>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                Lieu de billetterie\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"ticketingLocation\"\r\n                value={newEvent.ticketingLocation}\r\n                onChange={handleInputChange}\r\n                className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"hasDecor\"\r\n                name=\"hasDecor\"\r\n                checked={newEvent.hasDecor}\r\n                onChange={(e) => setNewEvent({...newEvent, hasDecor: e.target.checked})}\r\n                className=\"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\r\n              />\r\n              <label htmlFor=\"hasDecor\" className=\"ml-2 block text-sm text-gray-700\">\r\n                Décor\r\n              </label>\r\n            </div>\r\n            \r\n            {newEvent.hasDecor && (\r\n              <div className=\"col-span-1 md:col-span-2\">\r\n                <label className=\"block text-sm font-medium text-primary mb-1\">\r\n                  Détails du décor\r\n                </label>\r\n                <textarea\r\n                  name=\"decorDetails\"\r\n                  value={newEvent.decorDetails}\r\n                  onChange={handleInputChange}\r\n                  rows=\"2\"\r\n                  className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n                ></textarea>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Section de sélection des utilisateurs */}\r\n          {renderUserSelectionSection()}\r\n          \r\n          {/* Boutons d'action */}\r\n          <div className=\"flex justify-end gap-2 mt-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setShowModal(false);\r\n                setError('');\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md\"\r\n            >\r\n              Annuler\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 bg-primary text-white rounded-md\"\r\n            >\r\n              {modalType === 'add' ? 'Créer' : 'Mettre à jour'}\r\n            </button>\r\n          </div>\r\n          \r\n          {/* Bouton pour accéder à la section PDF (uniquement en mode édition) */}\r\n          {modalType === 'edit' && newEvent.id && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={togglePdfSection}\r\n              className=\"flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md mt-4\"\r\n            >\r\n              <DocumentIcon className=\"h-5 w-5 mr-2\" />\r\n              Gérer les documents PDF\r\n              <ArrowRightIcon className=\"h-5 w-5 ml-2\" />\r\n            </button>\r\n          )}\r\n        </form>\r\n      );\r\n    }\r\n  };\r\n\r\n  // Rendu principal\r\n  return (\r\n    <div className=\"p-4 md:p-6\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-primary mb-4\">Calendrier des événements</h1>\r\n        \r\n        {/* Filtres */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Salle\r\n            </label>\r\n            <select\r\n              value={roomFilter}\r\n              onChange={(e) => setRoomFilter(e.target.value)}\r\n              className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n            >\r\n              <option value=\"\">Toutes les salles</option>\r\n              {rooms.map(room => (\r\n                <option key={room.id} value={room.id}>\r\n                  {room.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Type d'événement\r\n            </label>\r\n            <select\r\n              value={typeFilter}\r\n              onChange={(e) => setTypeFilter(e.target.value)}\r\n              className=\"w-full p-2 border rounded-md focus:ring-primary focus:border-primary\"\r\n            >\r\n              <option value=\"\">Tous les types</option>\r\n              {eventTypes.map(type => (\r\n                <option key={type.value} value={type.value}>\r\n                  {type.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"flex items-end\">\r\n            <label className=\"flex items-center\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={showAllEvents}\r\n                onChange={(e) => setShowAllEvents(e.target.checked)}\r\n                className=\"h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary\"\r\n              />\r\n              <span className=\"ml-2 text-sm text-gray-700\">\r\n                Afficher tous les événements\r\n              </span>\r\n            </label>\r\n          </div>\r\n          \r\n          <div className=\"flex items-end\">\r\n            <button\r\n              onClick={() => {\r\n                setRoomFilter('');\r\n                setTypeFilter('');\r\n                setShowAllEvents(true);\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md text-sm\"\r\n            >\r\n              Réinitialiser les filtres\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Messages */}\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        {success && (\r\n          <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded-md\">\r\n            {success}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Légende */}\r\n        <div className=\"mb-4\">\r\n          <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Légende:</h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {eventTypes.map(type => (\r\n              <div key={type.value} className=\"flex items-center\">\r\n                <div \r\n                  className=\"h-4 w-4 rounded-full mr-1\" \r\n                  style={{ backgroundColor: type.color }}\r\n                ></div>\r\n                <span className=\"text-xs text-gray-700\">{type.label}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Calendrier */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-4\">\r\n        <FullCalendar\r\n          ref={calendarRef}\r\n          plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n          initialView=\"timeGridWeek\"\r\n          headerToolbar={{\r\n            left: 'prev,next today',\r\n            center: 'title',\r\n            right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n          }}\r\n          events={events}\r\n          eventClick={handleEventClick}\r\n          dateClick={handleDateClick}\r\n          selectable={true}\r\n          select={handleSelect}\r\n          selectMirror={true}\r\n          dayMaxEvents={true}\r\n          weekends={true}\r\n          allDaySlot={false}\r\n          slotMinTime=\"08:00:00\"\r\n          slotMaxTime=\"23:00:00\"\r\n          height=\"auto\"\r\n          locale=\"fr\"\r\n          buttonText={{\r\n            today: \"Aujourd'hui\",\r\n            month: 'Mois',\r\n            week: 'Semaine',\r\n            day: 'Jour'\r\n          }}\r\n          firstDay={1} // Lundi comme premier jour de la semaine\r\n          nowIndicator={true}\r\n          eventTimeFormat={{\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            meridiem: false,\r\n            hour12: false\r\n          }}\r\n        />\r\n      </div>\r\n      \r\n      {/* Modal de sélection d'action */}\r\n      {showSelectionDialog && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md\">\r\n            <div className=\"p-6\">\r\n              <h2 className=\"text-xl font-bold text-primary mb-4\">\r\n                Que souhaitez-vous faire ?\r\n              </h2>\r\n              \r\n              <div className=\"grid grid-cols-1 gap-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSelectionDialog(false);\r\n                    handleNewEvent(selectedTimeInfo);\r\n                  }}\r\n                  className=\"flex items-center justify-center p-3 bg-primary text-white rounded-md hover:bg-primary-700\"\r\n                >\r\n                  <PlusIcon className=\"h-5 w-5 mr-2\" />\r\n                  Créer un nouvel événement\r\n                </button>\r\n                \r\n                {clipboardEvent && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowSelectionDialog(false);\r\n                      handlePasteEvent(selectedTimeInfo);\r\n                    }}\r\n                    className=\"flex items-center justify-center p-3 bg-gray-600 text-white rounded-md hover:bg-gray-700\"\r\n                  >\r\n                    <ClipboardIcon className=\"h-5 w-5 mr-2\" />\r\n                    Coller l'événement du presse-papier\r\n                  </button>\r\n                )}\r\n                \r\n                <button\r\n                  onClick={() => setShowSelectionDialog(false)}\r\n                  className=\"p-3 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300\"\r\n                >\r\n                  Annuler\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Modal principal */}\r\n      {showModal && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-center mb-4\">\r\n                <h2 className=\"text-xl font-bold text-primary\">\r\n                  {modalType === 'add' ? 'Ajouter un événement' : \r\n                   modalType === 'edit' ? 'Modifier l\\'événement' : \r\n                   showPdfSection ? 'Documents PDF' : 'Détails de l\\'événement'}\r\n                </h2>\r\n                <button\r\n                  onClick={() => {\r\n                    if (showPdfSection) {\r\n                      setShowPdfSection(false);\r\n                    } else {\r\n                      setShowModal(false);\r\n                      setError('');\r\n                      setSuccess('');\r\n                    }\r\n                  }}\r\n                  className=\"text-gray-500 hover:text-gray-700\"\r\n                >\r\n                  <XMarkIcon className=\"h-6 w-6\" />\r\n                </button>\r\n              </div>\r\n              \r\n              {error && (\r\n                <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n              \r\n              {success && (\r\n                <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded-md\">\r\n                  {success}\r\n                </div>\r\n              )}\r\n              \r\n              {renderModalContent()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Calendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}