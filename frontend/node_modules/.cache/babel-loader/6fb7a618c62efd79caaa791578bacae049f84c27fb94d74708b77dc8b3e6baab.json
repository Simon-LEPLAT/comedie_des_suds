{"ast":null,"code":"var _jsxFileName = \"C:\\\\ProgramData\\\\Splashtop\\\\Splashtop Remote Client for RMM\\\\Simon\\\\comedie_des_suds\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { EnvelopeIcon } from '@heroicons/react/24/outline';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [formError, setFormError] = useState('');\n  const [remainingAttempts, setRemainingAttempts] = useState(null);\n  const [forgotPasswordEmail, setForgotPasswordEmail] = useState('');\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [resetSuccess, setResetSuccess] = useState('');\n  const [captchaVerified, setCaptchaVerified] = useState(false);\n  const recaptchaRef = useRef(null);\n  const {\n    login,\n    user,\n    error,\n    setError,\n    api\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    console.log(\"Current user state:\", user);\n    if (user) {\n      console.log(\"Redirecting to dashboard...\");\n      navigate('/dashboard');\n    }\n    if (error) {\n      setFormError(error);\n      setError(null);\n    }\n  }, [user, navigate, error, setError]);\n  const handleCaptchaChange = value => {\n    setCaptchaVerified(!!value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setFormError('');\n    setRemainingAttempts(null);\n    if (!captchaVerified) {\n      setFormError('Veuillez confirmer que vous n\\'êtes pas un robot');\n      return;\n    }\n    try {\n      // Obtenir le token reCAPTCHA\n      const recaptchaToken = recaptchaRef.current.getValue();\n\n      // Passer le token au serveur lors de la connexion\n      await login(email, password, recaptchaToken);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      setFormError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Une erreur est survenue');\n\n      // Reset captcha on error\n      if (recaptchaRef.current) {\n        recaptchaRef.current.reset();\n        setCaptchaVerified(false);\n      }\n\n      // Check if the response contains remaining attempts information\n      if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.remainingAttempts) !== undefined) {\n        var _err$response3, _err$response3$data;\n        setRemainingAttempts((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.remainingAttempts);\n      }\n    }\n  };\n  const handleForgotPassword = async e => {\n    e.preventDefault();\n    setFormError('');\n    setResetSuccess('');\n    if (!forgotPasswordEmail) {\n      setFormError('Veuillez entrer votre adresse email');\n      return;\n    }\n    try {\n      const response = await api.post('/users/forgot-password', {\n        email: forgotPasswordEmail\n      });\n      setResetSuccess(response.data.message || 'Un email de réinitialisation a été envoyé à votre adresse email');\n      setForgotPasswordEmail('');\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setFormError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Une erreur est survenue lors de l\\'envoi de l\\'email');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-[80vh] flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-white to-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-5xl w-full flex overflow-hidden rounded-xl shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden md:block w-1/2 bg-primary relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black opacity-30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-full bg-cover bg-center\",\n          style: {\n            backgroundImage: \"url('/images/theatre-curtain.jpg')\",\n            backgroundSize: 'cover',\n            backgroundPosition: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 flex flex-col items-center justify-center text-white p-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-3xl font-bold mb-4 text-gold drop-shadow-lg\",\n            children: \"Planning-Corporate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xl text-center italic text-offwhite drop-shadow-md\",\n            children: \"\\\"Le th\\xE9\\xE2tre est le premier s\\xE9rum que l'homme ait invent\\xE9 pour se prot\\xE9ger de la maladie de l'angoisse.\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-gold\",\n            children: \"- Jean-Louis Barrault\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-1/2 bg-white p-8 sm:p-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/logo-noir.png\",\n            alt: \"Planning-Corporate\",\n            className: \"h-32 mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-primary\",\n            children: showForgotPassword ? 'Réinitialisation du mot de passe' : 'Connexion'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mt-2\",\n            children: showForgotPassword ? 'Entrez votre email pour réinitialiser votre mot de passe' : 'Accédez à votre espace personnel'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), formError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold\",\n            children: \"Erreur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), remainingAttempts !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm\",\n            children: [\"Il vous reste \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold\",\n              children: remainingAttempts\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 33\n            }, this), \" tentative\", remainingAttempts > 1 ? 's' : '', \" avant le blocage de votre compte.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), resetSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6 rounded-md\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold\",\n            children: \"Succ\\xE8s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: resetSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), !showForgotPassword ?\n        /*#__PURE__*/\n        // Formulaire de connexion\n        _jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Adresse email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"email\",\n              name: \"email\",\n              type: \"email\",\n              autoComplete: \"email\",\n              required: true,\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              className: \"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\",\n              placeholder: \"votre@email.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Mot de passe\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"password\",\n              name: \"password\",\n              type: \"password\",\n              autoComplete: \"current-password\",\n              required: true,\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              className: \"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\",\n              placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowForgotPassword(true),\n              className: \"text-sm text-primary hover:text-gold transition-colors duration-300\",\n              children: \"Mot de passe oubli\\xE9 ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(ReCAPTCHA, {\n              ref: recaptchaRef,\n              sitekey: \"6LcUYuQqAAAAAIgPy8NX3iGIuXZXXriz-KM1YkHf\",\n              onChange: handleCaptchaChange,\n              className: \"transform scale-90 sm:scale-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: `w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${captchaVerified ? 'bg-primary hover:bg-primary-dark' : 'bg-gray-400 cursor-not-allowed'} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-all duration-300`,\n              disabled: !captchaVerified,\n              children: \"Se connecter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // Formulaire de mot de passe oublié\n        _jsxDEV(\"form\", {\n          onSubmit: handleForgotPassword,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"forgot-email\",\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Adresse email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"forgot-email\",\n              name: \"email\",\n              type: \"email\",\n              autoComplete: \"email\",\n              required: true,\n              value: forgotPasswordEmail,\n              onChange: e => setForgotPasswordEmail(e.target.value),\n              className: \"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\",\n              placeholder: \"votre@email.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-all duration-300\",\n              children: [/*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n                className: \"h-5 w-5 mr-2\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this), \"Envoyer le lien de r\\xE9initialisation\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowForgotPassword(false),\n              className: \"text-sm text-primary hover:text-gold transition-colors duration-300\",\n              children: \"Retour \\xE0 la connexion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Vous n'avez pas de compte ?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              className: \"font-medium text-primary hover:text-gold transition-colors\",\n              children: \"Inscrivez-vous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 border-t border-gray-200 pt-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-4 w-4 mr-1 text-gold\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), \"Besoin d'aide ?\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-4 w-4 mr-1 text-gold\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), \"Connexion s\\xE9curis\\xE9e\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"VnUoAHeWusFfmNIkFZu54ohRZ2k=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useRef","Link","useNavigate","AuthContext","EnvelopeIcon","ReCAPTCHA","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","formError","setFormError","remainingAttempts","setRemainingAttempts","forgotPasswordEmail","setForgotPasswordEmail","showForgotPassword","setShowForgotPassword","resetSuccess","setResetSuccess","captchaVerified","setCaptchaVerified","recaptchaRef","login","user","error","setError","api","navigate","console","log","handleCaptchaChange","value","handleSubmit","e","preventDefault","recaptchaToken","current","getValue","err","_err$response","_err$response$data","_err$response2","_err$response2$data","response","data","message","reset","undefined","_err$response3","_err$response3$data","handleForgotPassword","post","_err$response4","_err$response4$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","backgroundSize","backgroundPosition","src","alt","role","onSubmit","htmlFor","id","name","type","autoComplete","required","onChange","target","placeholder","onClick","ref","sitekey","disabled","to","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/ProgramData/Splashtop/Splashtop Remote Client for RMM/Simon/comedie_des_suds/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { EnvelopeIcon } from '@heroicons/react/24/outline';\r\nimport ReCAPTCHA from 'react-google-recaptcha';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [formError, setFormError] = useState('');\r\n  const [remainingAttempts, setRemainingAttempts] = useState(null);\r\n  const [forgotPasswordEmail, setForgotPasswordEmail] = useState('');\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [resetSuccess, setResetSuccess] = useState('');\r\n  const [captchaVerified, setCaptchaVerified] = useState(false);\r\n  \r\n  const recaptchaRef = useRef(null);\r\n  const { login, user, error, setError, api } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  \r\n  useEffect(() => {\r\n    console.log(\"Current user state:\", user);\r\n    if (user) {\r\n      console.log(\"Redirecting to dashboard...\");\r\n      navigate('/dashboard');\r\n    }\r\n    \r\n    if (error) {\r\n      setFormError(error);\r\n      setError(null);\r\n    }\r\n  }, [user, navigate, error, setError]);\r\n  \r\n  const handleCaptchaChange = (value) => {\r\n    setCaptchaVerified(!!value);\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setFormError('');\r\n    setRemainingAttempts(null);\r\n    \r\n    if (!captchaVerified) {\r\n      setFormError('Veuillez confirmer que vous n\\'êtes pas un robot');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      // Obtenir le token reCAPTCHA\r\n      const recaptchaToken = recaptchaRef.current.getValue();\r\n      \r\n      // Passer le token au serveur lors de la connexion\r\n      await login(email, password, recaptchaToken);\r\n    } catch (err) {\r\n      setFormError(err.response?.data?.message || 'Une erreur est survenue');\r\n      \r\n      // Reset captcha on error\r\n      if (recaptchaRef.current) {\r\n        recaptchaRef.current.reset();\r\n        setCaptchaVerified(false);\r\n      }\r\n      \r\n      // Check if the response contains remaining attempts information\r\n      if (err.response?.data?.remainingAttempts !== undefined) {\r\n        setRemainingAttempts(err.response?.data?.remainingAttempts);\r\n      }\r\n    }\r\n  };\r\n  \r\n  const handleForgotPassword = async (e) => {\r\n    e.preventDefault();\r\n    setFormError('');\r\n    setResetSuccess('');\r\n    \r\n    if (!forgotPasswordEmail) {\r\n      setFormError('Veuillez entrer votre adresse email');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await api.post('/users/forgot-password', { email: forgotPasswordEmail });\r\n      setResetSuccess(response.data.message || 'Un email de réinitialisation a été envoyé à votre adresse email');\r\n      setForgotPasswordEmail('');\r\n    } catch (err) {\r\n      setFormError(err.response?.data?.message || 'Une erreur est survenue lors de l\\'envoi de l\\'email');\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"min-h-[80vh] flex items-center justify-center px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-white to-gray-100\">\r\n      <div className=\"max-w-5xl w-full flex overflow-hidden rounded-xl shadow-2xl\">\r\n        {/* Colonne de gauche - Image théâtrale */}\r\n        <div className=\"hidden md:block w-1/2 bg-primary relative\">\r\n          <div className=\"absolute inset-0 bg-black opacity-30\"></div>\r\n          <div \r\n            className=\"h-full bg-cover bg-center\" \r\n            style={{ \r\n              backgroundImage: \"url('/images/theatre-curtain.jpg')\", \r\n              backgroundSize: 'cover',\r\n              backgroundPosition: 'center'\r\n            }}\r\n          ></div>\r\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center text-white p-8\">\r\n            <h2 className=\"text-3xl font-bold mb-4 text-gold drop-shadow-lg\">Planning-Corporate</h2>\r\n            <p className=\"text-xl text-center italic text-offwhite drop-shadow-md\">\r\n              \"Le théâtre est le premier sérum que l'homme ait inventé pour se protéger de la maladie de l'angoisse.\"\r\n            </p>\r\n            <p className=\"mt-2 text-gold\">- Jean-Louis Barrault</p>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Colonne de droite - Formulaire de connexion ou de réinitialisation */}\r\n        <div className=\"w-full md:w-1/2 bg-white p-8 sm:p-12\">\r\n          <div className=\"mb-8 text-center\">\r\n            <img \r\n              src=\"/logo-noir.png\" \r\n              alt=\"Planning-Corporate\" \r\n              className=\"h-32 mx-auto mb-4\" \r\n            />\r\n            <h2 className=\"text-2xl font-bold text-primary\">\r\n              {showForgotPassword ? 'Réinitialisation du mot de passe' : 'Connexion'}\r\n            </h2>\r\n            <p className=\"text-gray-600 mt-2\">\r\n              {showForgotPassword \r\n                ? 'Entrez votre email pour réinitialiser votre mot de passe' \r\n                : 'Accédez à votre espace personnel'}\r\n            </p>\r\n          </div>\r\n          \r\n          {formError && (\r\n            <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md\" role=\"alert\">\r\n              <p className=\"font-bold\">Erreur</p>\r\n              <p>{formError}</p>\r\n              {remainingAttempts !== null && (\r\n                <p className=\"mt-1 text-sm\">\r\n                  Il vous reste <span className=\"font-bold\">{remainingAttempts}</span> tentative{remainingAttempts > 1 ? 's' : ''} avant le blocage de votre compte.\r\n                </p>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          {resetSuccess && (\r\n            <div className=\"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-6 rounded-md\" role=\"alert\">\r\n              <p className=\"font-bold\">Succès</p>\r\n              <p>{resetSuccess}</p>\r\n            </div>\r\n          )}\r\n          \r\n          {!showForgotPassword ? (\r\n            // Formulaire de connexion\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Adresse email\r\n                </label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\"\r\n                  placeholder=\"votre@email.com\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Mot de passe\r\n                </label>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\"\r\n                  placeholder=\"••••••••\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"flex justify-end\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowForgotPassword(true)}\r\n                  className=\"text-sm text-primary hover:text-gold transition-colors duration-300\"\r\n                >\r\n                  Mot de passe oublié ?\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"flex justify-center\">\r\n                <ReCAPTCHA\r\n                  ref={recaptchaRef}\r\n                  sitekey=\"6LcUYuQqAAAAAIgPy8NX3iGIuXZXXriz-KM1YkHf\"\r\n                  onChange={handleCaptchaChange}\r\n                  className=\"transform scale-90 sm:scale-100\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className={`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${captchaVerified ? 'bg-primary hover:bg-primary-dark' : 'bg-gray-400 cursor-not-allowed'} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-all duration-300`}\r\n                  disabled={!captchaVerified}\r\n                >\r\n                  Se connecter\r\n                </button>\r\n              </div>\r\n            </form>\r\n          ) : (\r\n            // Formulaire de mot de passe oublié\r\n            <form onSubmit={handleForgotPassword} className=\"space-y-6\">\r\n              <div>\r\n                <label htmlFor=\"forgot-email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Adresse email\r\n                </label>\r\n                <input\r\n                  id=\"forgot-email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={forgotPasswordEmail}\r\n                  onChange={(e) => setForgotPasswordEmail(e.target.value)}\r\n                  className=\"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-gold focus:border-gold\"\r\n                  placeholder=\"votre@email.com\"\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gold transition-all duration-300\"\r\n                >\r\n                  <EnvelopeIcon className=\"h-5 w-5 mr-2\" aria-hidden=\"true\" />\r\n                  Envoyer le lien de réinitialisation\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"text-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowForgotPassword(false)}\r\n                  className=\"text-sm text-primary hover:text-gold transition-colors duration-300\"\r\n                >\r\n                  Retour à la connexion\r\n                </button>\r\n              </div>\r\n            </form>\r\n          )}\r\n          \r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-sm text-gray-600\">\r\n              Vous n'avez pas de compte ?{' '}\r\n              <Link to=\"/register\" className=\"font-medium text-primary hover:text-gold transition-colors\">\r\n                Inscrivez-vous\r\n              </Link>\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"mt-6 border-t border-gray-200 pt-6\">\r\n            <div className=\"flex items-center justify-center space-x-4\">\r\n              <div className=\"text-xs text-gray-500 flex items-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1 text-gold\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                Besoin d'aide ?\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 flex items-center\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4 mr-1 text-gold\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                </svg>\r\n                Connexion sécurisée\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}